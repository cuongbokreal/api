const _0x2c3d36=_0x2b62;(function(_0x5db367,_0x1740d2){const _0x3ec8e=_0x2b62,_0x217b91=_0x5db367();while(!![]){try{const _0x14a9ff=parseInt(_0x3ec8e(0x164))/0x1*(-parseInt(_0x3ec8e(0x1c8))/0x2)+-parseInt(_0x3ec8e(0x1e1))/0x3*(parseInt(_0x3ec8e(0x22e))/0x4)+parseInt(_0x3ec8e(0x22c))/0x5*(parseInt(_0x3ec8e(0x1e2))/0x6)+parseInt(_0x3ec8e(0x189))/0x7+parseInt(_0x3ec8e(0x168))/0x8*(parseInt(_0x3ec8e(0x1eb))/0x9)+-parseInt(_0x3ec8e(0x1bb))/0xa*(-parseInt(_0x3ec8e(0x19b))/0xb)+-parseInt(_0x3ec8e(0x21d))/0xc;if(_0x14a9ff===_0x1740d2)break;else _0x217b91['push'](_0x217b91['shift']());}catch(_0x206862){_0x217b91['push'](_0x217b91['shift']());}}}(_0x2076,0x3284a));const _0x103ea7=_0x3082;(function(_0x19ce0d,_0x5cae21){const _0x1abff2=_0x2b62,_0x3f1ae7=_0x3082,_0x427b64=_0x19ce0d();while(!![]){try{const _0x30ee62=parseInt(_0x3f1ae7(0x20f))/0x1*(parseInt(_0x3f1ae7(0x194))/0x2)+-parseInt(_0x3f1ae7(0x241))/0x3+parseInt(_0x3f1ae7(0x191))/0x4*(parseInt(_0x3f1ae7(0x23f))/0x5)+parseInt(_0x3f1ae7(0x25c))/0x6+parseInt(_0x3f1ae7(0x1fd))/0x7*(-parseInt(_0x3f1ae7(0x1a4))/0x8)+parseInt(_0x3f1ae7(0x1a1))/0x9+-parseInt(_0x3f1ae7(0x1be))/0xa;if(_0x30ee62===_0x5cae21)break;else _0x427b64[_0x1abff2(0x1b9)](_0x427b64[_0x1abff2(0x239)]());}catch(_0x1809fa){_0x427b64['push'](_0x427b64['shift']());}}}(_0x5a3b,0xa073d));const href=location[_0x103ea7(0x192)],host=location[_0x103ea7(0x21e)],path=location['pathname'];!host[_0x103ea7(0x1dc)]('cuongbokit')&&!href[_0x103ea7(0x1dc)](_0x103ea7(0x184))?(console[_0x103ea7(0x20a)](_0x2c3d36(0x1e4)),window[_0x103ea7(0x1bb)][_0x103ea7(0x192)]=_0x2c3d36(0x1e6)+host+_0x103ea7(0x234)+path):console[_0x103ea7(0x20a)](_0x103ea7(0x1ae));const videoFeed=document[_0x103ea7(0x1e4)](_0x2c3d36(0x156)),captureButton=document[_0x103ea7(0x1e4)](_0x103ea7(0x1f6)),combineButton=document[_0x103ea7(0x1e4)](_0x103ea7(0x1a3)),retakeButton=document[_0x2c3d36(0x15a)](_0x103ea7(0x1f0)),saveButton=document[_0x103ea7(0x1e4)]('saveButton'),printButton=document[_0x103ea7(0x1e4)](_0x103ea7(0x1c6)),layoutButtons=document[_0x103ea7(0x20d)](_0x103ea7(0x20c)),thumbnailsContainer=document[_0x103ea7(0x1e4)](_0x103ea7(0x1cd)),currentPhotoCountSpan=document[_0x2c3d36(0x15a)](_0x103ea7(0x189)),totalPhotosNeededSpan=document[_0x103ea7(0x1e4)](_0x103ea7(0x23a)),combinedCanvas=document[_0x103ea7(0x1e4)](_0x103ea7(0x214)),combinedCtx=combinedCanvas[_0x103ea7(0x259)]('2d'),liveCombinedCanvas=document[_0x103ea7(0x1e4)](_0x2c3d36(0x15e)),liveCombinedCtx=liveCombinedCanvas[_0x103ea7(0x259)]('2d'),liveCanvasWrapper=document[_0x2c3d36(0x235)](_0x103ea7(0x261)),cameraStage=document[_0x103ea7(0x1e4)](_0x103ea7(0x21a)),previewStage=document[_0x103ea7(0x1e4)](_0x2c3d36(0x1ff)),loadingSpinner=document[_0x103ea7(0x1e4)](_0x103ea7(0x1fc)),countdownElement=document[_0x103ea7(0x1e4)](_0x2c3d36(0x15d)),backgroundColorPicker=document[_0x103ea7(0x1e4)](_0x2c3d36(0x1de)),transparentBackgroundColorCheckbox=document[_0x2c3d36(0x15a)](_0x2c3d36(0x201)),borderColorPicker=document[_0x103ea7(0x1e4)](_0x2c3d36(0x20d)),transparentBorderColorCheckbox=document[_0x103ea7(0x1e4)](_0x103ea7(0x250)),syncColorsCheckbox=document[_0x2c3d36(0x15a)]('syncColors'),borderWidthSlider=document[_0x2c3d36(0x15a)](_0x103ea7(0x1b4)),borderWidthValueSpan=document[_0x103ea7(0x1e4)](_0x103ea7(0x206)),imageGapSlider=document[_0x103ea7(0x1e4)](_0x103ea7(0x246)),imageGapValueSpan=document['getElementById'](_0x103ea7(0x19c)),bottomCaptionTextInput=document[_0x2c3d36(0x15a)](_0x103ea7(0x1d0)),topCaptionTextInput=document[_0x2c3d36(0x15a)]('topCaptionText'),fontColorPicker=document['getElementById'](_0x2c3d36(0x1fb)),fontSizeSlider=document[_0x103ea7(0x1e4)](_0x103ea7(0x17c)),fontSizeValueSpan=document[_0x103ea7(0x1e4)](_0x103ea7(0x21d)),applyDecorationsButton=document[_0x103ea7(0x1e4)](_0x103ea7(0x238)),fontFamilySelect=document[_0x2c3d36(0x15a)](_0x103ea7(0x1fb)),isBoldCheckbox=document[_0x103ea7(0x1e4)](_0x2c3d36(0x1b5)),isItalicCheckbox=document['getElementById'](_0x103ea7(0x1b3)),topPatternSelector=document[_0x103ea7(0x1e4)](_0x2c3d36(0x217)),bottomPatternSelector=document[_0x103ea7(0x1e4)](_0x103ea7(0x1b6)),overlayPatternSelector=document[_0x103ea7(0x1e4)](_0x103ea7(0x24b));let selectedTopPattern='',selectedBottomPattern='',selectedOverlayPattern='';const contrastSlider=document[_0x103ea7(0x1e4)](_0x103ea7(0x254)),contrastValueSpan=document[_0x103ea7(0x1e4)](_0x2c3d36(0x15b)),brightnessSlider=document[_0x2c3d36(0x15a)](_0x103ea7(0x24a)),brightnessValueSpan=document[_0x103ea7(0x1e4)](_0x2c3d36(0x1cb)),saturationSlider=document[_0x103ea7(0x1e4)](_0x103ea7(0x230)),saturationValueSpan=document[_0x103ea7(0x1e4)](_0x103ea7(0x1c0)),warmthSlider=document[_0x103ea7(0x1e4)](_0x103ea7(0x1cf)),warmthValueSpan=document[_0x2c3d36(0x15a)](_0x103ea7(0x226)),grayscaleSlider=document[_0x103ea7(0x1e4)](_0x2c3d36(0x19f)),grayscaleValueSpan=document[_0x103ea7(0x1e4)](_0x103ea7(0x229)),sharpenSlider=document[_0x103ea7(0x1e4)](_0x2c3d36(0x17b)),sharpenValueSpan=document[_0x103ea7(0x1e4)]('sharpenValue'),shadowsSlider=document[_0x103ea7(0x1e4)](_0x103ea7(0x183)),shadowsValueSpan=document[_0x103ea7(0x1e4)](_0x2c3d36(0x219)),highlightsSlider=document[_0x103ea7(0x1e4)](_0x103ea7(0x1de)),highlightsValueSpan=document[_0x103ea7(0x1e4)](_0x103ea7(0x220)),claritySlider=document[_0x2c3d36(0x15a)](_0x103ea7(0x1c1)),clarityValueSpan=document[_0x103ea7(0x1e4)]('clarityValue'),messageBox=document[_0x103ea7(0x1e4)](_0x103ea7(0x190)),messageText=document[_0x103ea7(0x1e4)](_0x103ea7(0x233)),messageBoxClose=document[_0x103ea7(0x1e4)](_0x103ea7(0x215));let stream,capturedPhotos=[],selectedLayout=0x4,photoWidth=0x280,photoHeight=0x1e0,originalCombinedImage=null,animationFrameId;const topPatternList=[{'id':_0x2c3d36(0x214),'name':_0x103ea7(0x222),'thumbnail':_0x103ea7(0x1c7),'src':''},{'id':_0x103ea7(0x1d8),'name':_0x103ea7(0x1a0),'thumbnail':_0x103ea7(0x200),'src':_0x103ea7(0x245)},{'id':_0x103ea7(0x1fe),'name':'Họa\x20tiết\x202','thumbnail':_0x103ea7(0x19d),'src':_0x103ea7(0x1f1)},{'id':_0x103ea7(0x24e),'name':_0x103ea7(0x249),'thumbnail':_0x2c3d36(0x1a0),'src':_0x103ea7(0x1ba)},{'id':'pattern4','name':_0x103ea7(0x17b),'thumbnail':_0x103ea7(0x25e),'src':_0x103ea7(0x203)}],bottomPatternList=[{'id':_0x103ea7(0x1c2),'name':_0x103ea7(0x222),'thumbnail':_0x103ea7(0x1c7),'src':''},{'id':_0x103ea7(0x218),'name':_0x103ea7(0x205),'thumbnail':_0x103ea7(0x18b),'src':_0x103ea7(0x1af)},{'id':_0x103ea7(0x1eb),'name':_0x103ea7(0x1c9),'thumbnail':_0x2c3d36(0x210),'src':_0x2c3d36(0x22b)},{'id':_0x103ea7(0x1cc),'name':_0x103ea7(0x1a8),'thumbnail':_0x103ea7(0x18c),'src':_0x2c3d36(0x1c4)},{'id':_0x103ea7(0x1a9),'name':_0x103ea7(0x181),'thumbnail':_0x103ea7(0x208),'src':_0x103ea7(0x248)}],overlayPatternList=[{'id':_0x103ea7(0x1c2),'name':_0x103ea7(0x222),'thumbnail':'https://placehold.co/120x60/ffffff/000000?text=None','src':''},{'id':_0x103ea7(0x207),'name':_0x103ea7(0x221),'thumbnail':_0x103ea7(0x19f),'src':_0x103ea7(0x1ab)},{'id':_0x103ea7(0x264),'name':_0x103ea7(0x1ac),'thumbnail':_0x2c3d36(0x1c3),'src':_0x103ea7(0x239)},{'id':_0x2c3d36(0x230),'name':_0x2c3d36(0x1b2),'thumbnail':_0x103ea7(0x1c4),'src':_0x2c3d36(0x1d9)}];function showMessageBox(_0x510c51){const _0x1cfa88=_0x2c3d36,_0x2dc5df=_0x103ea7;messageText[_0x2dc5df(0x1a2)]=_0x510c51,messageBox[_0x1cfa88(0x1ed)][_0x2dc5df(0x1ff)](_0x2dc5df(0x1d6));}function hideMessageBox(){const _0x3b3d1c=_0x2c3d36,_0x3989e3=_0x103ea7;messageBox[_0x3989e3(0x24d)][_0x3b3d1c(0x1c0)]('hidden');}function showLoading(){const _0x660253=_0x103ea7;loadingSpinner[_0x660253(0x202)][_0x660253(0x1ca)]=_0x660253(0x1b2);}function _0x2076(){const _0x45cfee=['contrast','opacity-100','pattern6','remove','warmthValue','open','borderWidthValue','32opmpFf','https://placehold.co/1200x800/add8e6/00008b?text=Overlay3','&utm_medium=','selected','https://placehold.co/1200x800/d3d3d3/000000?text=Overlay1','appendChild','backgroundColor','strokeRect','onerror','44868xswhEA','30HsnWqi','#ffffff','Không\x20phải\x20CBI,\x20chuyển\x20hướng...','mediaDevices','https://cuongbokit.blogspot.com/2025/06/photobooth-online-with-cuongbok.html?utm_source=','floor','Lỗi\x20tải\x20họa\x20tiết\x20dưới:','crossOrigin','onload','99FFnZQe','topCaptionText','classList','Lớp\x20phủ\x201','totalPhotosNeeded','%)\x20/*\x20Approximate\x20warmth\x20with\x20sepia\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','overlay2','innerHTML','Không\x20có\x20ảnh\x20để\x20in.\x20Vui\x20lòng\x20kết\x20hợp\x20ảnh\x20trước.','https://placehold.co/1200x60/add8e6/00008b?text=Pattern5','https://placehold.co/120x60/c8a2c8/4b0082?text=Pattern7','<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20w-full\x20mb-1\x22>Họa\x20tiết\x20trên:</span>','_blank','transparentBorderColor','<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20w-full\x20mb-1\x22>Họa\x20tiết\x20lớp\x20phủ:</span>','</span>)','fontColor','.live-canvas-wrapper','disabled','forEach','previewStage','img','transparentBackgroundColor','italic\x20','%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20saturate(','pattern7','#e0e0e0','aspectRatio','opacity-0','createElement','save','Họa\x20tiết\x207','toDataURL','pattern1','borderColor','bottomPatternSelector','restore','https://placehold.co/120x60/ffe4e1/8b0000?text=Pattern6','#666','#cccccc','Lỗi\x20tải\x20họa\x20tiết\x20trên:','none','https://placehold.co/120x60/d3d3d3/000000?text=O1','overlayPattern','topPatternSelector','721010FJhBUd','shadowsValue','retakeButton','Đã\x20đủ\x20ảnh','Bố\x20cục\x20không\x20hợp\x20lệ.\x20Mặc\x20định\x204\x20ảnh.','8604600xXumam','onloadedmetadata','applyDecorationsButton','Họa\x20tiết\x206','strokeStyle','getImageData','addEventListener','image/png','clarity','21XyJYyF','borderWidth','overlayPatternSelector','error','image/jpeg','https://placehold.co/1200x60/ffe4e1/8b0000?text=Pattern6','48835iosGIu','fontFamily','52Tcvede','%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20brightness(','overlay3','body','messageBox','Họa\x20tiết\x205','srcObject','querySelector','https://placehold.co/120x60/eef2ff/1e293b?text=Pattern2','warn','pattern8','shift','11943130KABavr','fontSize','https://placehold.co/120x60/add8e6/00008b?text=Pattern5','loadingSpinner','filter','imageGapValue','brightness','target','document','min','4\x20/\x203','bottomCaptionText','100%','227nGEnzp','messageText','saturation','videoFeed','click','printButton','block','getElementById','contrastValue','Không\x20có\x20ảnh\x20để\x20lưu.\x20Vui\x20lòng\x20kết\x20hợp\x20ảnh\x20trước.','countdown','liveCombinedCanvas','change','dataset','object-cover','img[data-pattern=\x22\x22]','IMG','229jJDnLC','middle','#000000','globalAlpha','277416cCIwbX','isItalic','pattern2','fillText','combinedCanvas','write','Ảnh\x20','rgba(0,0,0,0)','439020lCSsyy','innerImageGap','tagName','textContent','clearRect','active','href','Lỗi\x20khi\x20truy\x20cập\x20camera:\x20','9942qEMKoW','saturationValue','https://placehold.co/120x60/ffffff/000000?text=None','sharpen','Anonymous','div','bottomPattern','currentPhotoCount','checked','Họa\x20tiết\x201','textAlign','\x20ảnh\x20trước\x20khi\x20kết\x20hợp.','querySelectorAll','imageGap','border-2','value','layout','2355304sMOXfG','grayscaleValue','https://placehold.co/1200x800/c0c0c0/000000?text=Overlay2','Là\x20CBI,\x20không\x20chuyển\x20hướng.','width','Lỗi\x20tải\x20họa\x20tiết\x20lớp\x20phủ:','height','hidden','2014832tMTbxd','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20contrast(','src','thumbnail','px\x20','Inter','scale','https://placehold.co/1200x60/d3d3d3/2f4f4f?text=Pattern8','30px','center','1404403vsjOKb','Họa\x20tiết\x203','fillRect','highlights','grayscale','https://placehold.co/120x60/f0fdf4/14532d?text=Pattern3','max','Ảnh\x20đã\x20chụp\x20','log','stop','Họa\x20tiết\x204','warmth','cameraStage','display','Ảnh\x20đã\x20được\x20lưu!','fillStyle','.control-button[data-layout]','100','thumbnailsContainer','bold\x20','w-full','Vui\x20lòng\x20chụp\x20ảnh\x20trước\x20khi\x20trang\x20trí!','getUserMedia','Lớp\x20phủ\x203','style','%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20grayscale(','isBold','topPattern','10px','highlightsValue','push','pattern3','30nwvWIf','length','Bạn\x20đã\x20chụp\x20đủ\x20','canvas','getTracks','add','data','hover:bg-indigo-800','https://placehold.co/120x60/c0c0c0/000000?text=O2','https://placehold.co/1200x60/c8a2c8/4b0082?text=Pattern7','name','messageBoxClose','input','274NhADnZ','https://placehold.co/1200x60/fff7ed/9a3412?text=Pattern4','drawImage','brightnessValue','textBaseline','font','location','\x20ảnh.\x20Bắt\x20đầu\x20chụp!','thumbnail-container'];_0x2076=function(){return _0x45cfee;};return _0x2076();}function hideLoading(){const _0x4a865b=_0x2c3d36,_0x26244b=_0x103ea7;loadingSpinner[_0x4a865b(0x1b3)][_0x26244b(0x1ca)]=_0x4a865b(0x214);}function switchStage(_0x53b74d){const _0x59b168=_0x2c3d36,_0x16c78b=_0x103ea7;cameraStage[_0x59b168(0x1ed)][_0x16c78b(0x1ff)](_0x16c78b(0x199)),previewStage[_0x16c78b(0x24d)][_0x16c78b(0x1ff)](_0x16c78b(0x199)),_0x53b74d[_0x16c78b(0x24d)][_0x16c78b(0x19e)](_0x16c78b(0x199)),_0x53b74d===previewStage&&(combinedCanvas['style'][_0x16c78b(0x1ca)]=_0x16c78b(0x1b2));}function updatePhotoCountDisplay(){const _0x228a75=_0x2c3d36,_0xd3e5e3=_0x103ea7;currentPhotoCountSpan[_0xd3e5e3(0x1a2)]=capturedPhotos[_0xd3e5e3(0x1d5)],totalPhotosNeededSpan[_0xd3e5e3(0x1a2)]=selectedLayout,capturedPhotos[_0xd3e5e3(0x1d5)]===selectedLayout?(captureButton[_0xd3e5e3(0x1ed)]=!![],captureButton[_0xd3e5e3(0x1a2)]=_0xd3e5e3(0x23e),combineButton[_0xd3e5e3(0x24d)][_0xd3e5e3(0x1ff)](_0xd3e5e3(0x1d6))):(captureButton[_0x228a75(0x1fd)]=![],captureButton[_0xd3e5e3(0x1f9)]=_0xd3e5e3(0x1a7)+capturedPhotos[_0xd3e5e3(0x1d5)]+_0xd3e5e3(0x258)+selectedLayout+_0xd3e5e3(0x25a),combineButton[_0xd3e5e3(0x24d)][_0xd3e5e3(0x19e)](_0xd3e5e3(0x1d6)));}function _0x3082(_0x5b1b2e,_0x23c639){const _0x471902=_0x5a3b();return _0x3082=function(_0x517735,_0x50b62b){_0x517735=_0x517735-0x178;let _0x1f4625=_0x471902[_0x517735];return _0x1f4625;},_0x3082(_0x5b1b2e,_0x23c639);}function displayThumbnail(_0x13d36c){const _0x20a7c9=_0x2c3d36,_0x1db939=_0x103ea7,_0x2c7b98=document[_0x1db939(0x227)](_0x20a7c9(0x200));_0x2c7b98[_0x20a7c9(0x193)]=_0x13d36c[_0x1db939(0x185)],_0x2c7b98['alt']=_0x1db939(0x179)+capturedPhotos[_0x1db939(0x1d5)],_0x2c7b98[_0x1db939(0x24d)][_0x1db939(0x19e)](_0x1db939(0x1a5),_0x1db939(0x1b1),_0x1db939(0x223),_0x1db939(0x22b)),_0x2c7b98[_0x1db939(0x202)][_0x20a7c9(0x206)]=_0x1db939(0x210);const _0x28a309=document[_0x1db939(0x227)](_0x1db939(0x18a));_0x28a309[_0x20a7c9(0x1ed)][_0x1db939(0x19e)](_0x1db939(0x211)),_0x28a309[_0x20a7c9(0x1dd)](_0x2c7b98),thumbnailsContainer[_0x1db939(0x255)](_0x28a309);}async function startCamera(){const _0x20dbc0=_0x2c3d36,_0x343fb7=_0x103ea7;showLoading();try{stream=await navigator[_0x343fb7(0x1f7)][_0x343fb7(0x1b8)]({'video':{'width':{'ideal':photoWidth},'height':{'ideal':photoHeight},'aspectRatio':0x4/0x3},'audio':![]}),videoFeed[_0x343fb7(0x197)]=stream,videoFeed[_0x343fb7(0x262)]=()=>{hideLoading(),videoFeed['play'](),startLivePreviewLoop();};}catch(_0x2bd6c7){console[_0x343fb7(0x1e7)](_0x20dbc0(0x177),_0x2bd6c7),hideLoading(),showMessageBox('Không\x20thể\x20truy\x20cập\x20camera.\x20Vui\x20lòng\x20cấp\x20quyền\x20truy\x20cập.');}}function _0x5a3b(){const _0x2846c8=_0x2c3d36,_0x5f37c3=[_0x2846c8(0x170),_0x2846c8(0x1b4),'https://placehold.co/120x60/fff7ed/9a3412?text=Pattern4',_0x2846c8(0x231),_0x2846c8(0x162),_0x2846c8(0x1fc),_0x2846c8(0x21e),_0x2846c8(0x197),_0x2846c8(0x1f1),'Vui\x20lòng\x20chụp\x20đủ\x20',_0x2846c8(0x16e),_0x2846c8(0x1a2),_0x2846c8(0x192),_0x2846c8(0x1a5),_0x2846c8(0x23b),_0x2846c8(0x186),_0x2846c8(0x202),_0x2846c8(0x211),_0x2846c8(0x237),'Họa\x20tiết\x208',_0x2846c8(0x209),'shadows','utm_source',_0x2846c8(0x193),_0x2846c8(0x205),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>In\x20ảnh</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@page\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20size:\x20auto;\x20/*\x20auto\x20is\x20the\x20initial\x20value\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200mm;\x20/*\x20this\x20affects\x20the\x20margin\x20in\x20the\x20printer\x20settings\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x20/*\x20reset\x20body\x20margin\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20100vh;\x20/*\x20Ensure\x20it\x20takes\x20full\x20viewport\x20height\x20for\x20centering\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x20/*\x20Prevent\x20scrollbars\x20from\x20appearing\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2098vh;\x20/*\x20Adjust\x20to\x20ensure\x20it\x20fits\x20page\x20height\x20with\x20some\x20buffer\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x20auto;\x20/*\x20Center\x20image\x20on\x20the\x20page\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20object-fit:\x20contain;\x20/*\x20Ensure\x20image\x20fits\x20without\x20cropping\x20while\x20maintaining\x20aspect\x20ratio\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x20/*\x20Ensure\x20each\x20image\x20prints\x20on\x20a\x20new\x20page\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22',_0x2846c8(0x1de),_0x2846c8(0x17f),_0x2846c8(0x17d),_0x2846c8(0x23c),_0x2846c8(0x1f5),_0x2846c8(0x17b),'bg-indigo-700','Inter',_0x2846c8(0x232),_0x2846c8(0x1d8),_0x2846c8(0x176),'middle',_0x2846c8(0x178),_0x2846c8(0x241),'translate',_0x2846c8(0x234),_0x2846c8(0x223),_0x2846c8(0x175),_0x2846c8(0x19f),_0x2846c8(0x1d2),_0x2846c8(0x23f),_0x2846c8(0x236),_0x2846c8(0x1c0),_0x2846c8(0x215),_0x2846c8(0x181),'4307841lYeHBS',_0x2846c8(0x173),'combineButton',_0x2846c8(0x191),_0x2846c8(0x1af),_0x2846c8(0x16f),'Chụp\x20ảnh\x20(<span\x20id=\x22currentPhotoCount\x22>',_0x2846c8(0x20a),_0x2846c8(0x238),'#cccccc',_0x2846c8(0x1dc),'Lớp\x20phủ\x202',_0x2846c8(0x15f),_0x2846c8(0x18c),_0x2846c8(0x1f4),'download','h-auto',_0x2846c8(0x159),_0x2846c8(0x169),_0x2846c8(0x227),_0x2846c8(0x1f9),_0x2846c8(0x20e),_0x2846c8(0x1c5),_0x2846c8(0x1b1),_0x2846c8(0x17c),'https://placehold.co/1200x60/f0fdf4/14532d?text=Pattern3',_0x2846c8(0x1ce),_0x2846c8(0x1fb),'fillStyle',_0x2846c8(0x23a),_0x2846c8(0x1ec),_0x2846c8(0x179),_0x2846c8(0x225),_0x2846c8(0x214),_0x2846c8(0x20d),'https://placehold.co/120x60/add8e6/00008b?text=O3',_0x2846c8(0x1cc),_0x2846c8(0x158),_0x2846c8(0x17a),_0x2846c8(0x157),_0x2846c8(0x220),_0x2846c8(0x1a8),_0x2846c8(0x195),_0x2846c8(0x204),_0x2846c8(0x1ad),'bottomPattern',_0x2846c8(0x1a6),'bottomCaptionText','%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sepia(',_0x2846c8(0x21c),'lineWidth',_0x2846c8(0x182),_0x2846c8(0x1bc),_0x2846c8(0x190),_0x2846c8(0x200),_0x2846c8(0x20c),_0x2846c8(0x1b0),_0x2846c8(0x1cd),_0x2846c8(0x1e7),'includes',_0x2846c8(0x1a1),_0x2846c8(0x19e),_0x2846c8(0x1f6),_0x2846c8(0x1e9),_0x2846c8(0x18d),_0x2846c8(0x224),_0x2846c8(0x180),_0x2846c8(0x15a),_0x2846c8(0x187),_0x2846c8(0x203),_0x2846c8(0x229),_0x2846c8(0x166),_0x2846c8(0x1b9),_0x2846c8(0x1e3),_0x2846c8(0x1d3),'set',_0x2846c8(0x1fd),_0x2846c8(0x1c1),_0x2846c8(0x183),_0x2846c8(0x21a),'https://placehold.co/1200x60/eef2ff/1e293b?text=Pattern2','\x22\x20onload=\x22setTimeout(()\x20=>\x20{\x20window.print();\x20window.close();\x20},\x20500);\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2846c8(0x1cf),_0x2846c8(0x1b7),_0x2846c8(0x1be),'captureButton',_0x2846c8(0x1e5),_0x2846c8(0x1f3),'innerHTML',_0x2846c8(0x1ea),_0x2846c8(0x22d),_0x2846c8(0x23d),_0x2846c8(0x226),_0x2846c8(0x16a),_0x2846c8(0x1d4),'https://placehold.co/120x60/f0f9ff/0f172a?text=Pattern1',_0x2846c8(0x18e),_0x2846c8(0x1b3),_0x2846c8(0x1c9),_0x2846c8(0x22f),_0x2846c8(0x233),_0x2846c8(0x1d7),'overlay1','https://placehold.co/120x60/d3d3d3/2f4f4f?text=Pattern8',_0x2846c8(0x20b),_0x2846c8(0x1a3),_0x2846c8(0x16b),_0x2846c8(0x1ab),_0x2846c8(0x184),_0x2846c8(0x1a9),_0x2846c8(0x153),_0x2846c8(0x150),_0x2846c8(0x1d0),_0x2846c8(0x1df),'alt',_0x2846c8(0x16c),_0x2846c8(0x1c6),'photobooth-cua-ban.png',_0x2846c8(0x1c2),'pattern5',_0x2846c8(0x18f),_0x2846c8(0x1a7),_0x2846c8(0x14f),'Bạn\x20đã\x20chọn\x20bố\x20cục\x20','fontSizeValue','hostname',_0x2846c8(0x1b6),_0x2846c8(0x1b8),_0x2846c8(0x1ee),'Không\x20có','rounded-md',_0x2846c8(0x1fe),_0x2846c8(0x19a),_0x2846c8(0x1d5),_0x2846c8(0x208),'pattern',_0x2846c8(0x18a),_0x2846c8(0x235),_0x2846c8(0x161),_0x2846c8(0x1ae),_0x2846c8(0x222),_0x2846c8(0x19d),'removeChild',_0x2846c8(0x155),_0x2846c8(0x1bd),_0x2846c8(0x22a),_0x2846c8(0x154),_0x2846c8(0x1da),'putImageData',_0x2846c8(0x1f0),_0x2846c8(0x1db),_0x2846c8(0x21f),_0x2846c8(0x18b),_0x2846c8(0x1ef),_0x2846c8(0x1ca),'100',_0x2846c8(0x172),_0x2846c8(0x21b),_0x2846c8(0x218),'restore','680292degBbS',_0x2846c8(0x1c7),'onerror','opacity-0','https://placehold.co/1200x60/f0f9ff/0f172a?text=Pattern1',_0x2846c8(0x185),'border-transparent',_0x2846c8(0x198),_0x2846c8(0x19c),_0x2846c8(0x240),_0x2846c8(0x228),_0x2846c8(0x194),_0x2846c8(0x1ed),_0x2846c8(0x1ba),_0x2846c8(0x160),_0x2846c8(0x1f8),_0x2846c8(0x167),_0x2846c8(0x152),_0x2846c8(0x163),_0x2846c8(0x1d1),_0x2846c8(0x1dd),'20px\x20Inter,\x20sans-serif',_0x2846c8(0x1b5),'</span>/<span\x20id=\x22totalPhotosNeeded\x22>','getContext',_0x2846c8(0x1fa),_0x2846c8(0x16d)];return _0x5a3b=function(){return _0x5f37c3;},_0x5a3b();}function stopCamera(){const _0x2efb03=_0x2c3d36,_0x701a6f=_0x103ea7;stream&&(stream[_0x2efb03(0x1bf)]()[_0x701a6f(0x224)](_0x58ad2c=>_0x58ad2c[_0x2efb03(0x1a4)]()),videoFeed[_0x701a6f(0x197)]=null),cancelAnimationFrame(animationFrameId);}function startCountdown(_0x14792b){return new Promise(_0x14b871=>{const _0x58f099=_0x2b62,_0xc78493=_0x3082;let _0x5e0848=_0x14792b;countdownElement[_0xc78493(0x1a2)]=_0x5e0848,countdownElement[_0xc78493(0x24d)][_0x58f099(0x1d4)](_0xc78493(0x244)),countdownElement[_0xc78493(0x24d)][_0xc78493(0x19e)]('opacity-100');const _0x2b9ecd=setInterval(()=>{const _0x24a7bd=_0x58f099,_0x375930=_0xc78493;_0x5e0848--,_0x5e0848>0x0?countdownElement['textContent']=_0x5e0848:(clearInterval(_0x2b9ecd),countdownElement['textContent']='',countdownElement[_0x375930(0x24d)][_0x24a7bd(0x1d4)](_0x375930(0x19b)),countdownElement[_0x375930(0x24d)][_0x375930(0x19e)](_0x24a7bd(0x207)),_0x14b871());},0x3e8);});}async function capturePhoto(){const _0x31eff8=_0x2c3d36,_0x5f411b=_0x103ea7;if(capturedPhotos[_0x31eff8(0x1bc)]>=selectedLayout){showMessageBox(_0x5f411b(0x231)+selectedLayout+'\x20ảnh\x20rồi!\x20Vui\x20lòng\x20kết\x20hợp\x20hoặc\x20chụp\x20lại.');return;}captureButton[_0x5f411b(0x1ed)]=!![],cancelAnimationFrame(animationFrameId),await startCountdown(0x3);const _0x4171c4=document[_0x5f411b(0x227)](_0x5f411b(0x1f5)),_0x489d80=_0x4171c4[_0x5f411b(0x259)]('2d');_0x4171c4[_0x5f411b(0x1e1)]=photoWidth,_0x4171c4[_0x5f411b(0x219)]=photoHeight,_0x489d80[_0x5f411b(0x196)](_0x4171c4['width'],0x0),_0x489d80[_0x5f411b(0x263)](-0x1,0x1),_0x489d80[_0x5f411b(0x23b)](videoFeed,0x0,0x0,_0x4171c4[_0x31eff8(0x18d)],_0x4171c4[_0x5f411b(0x219)]);const _0x5cbc8f=_0x4171c4[_0x5f411b(0x209)](_0x5f411b(0x232),0.9),_0x4e96f4=new Image();_0x4e96f4[_0x5f411b(0x1fa)]=()=>{const _0x436c47=_0x5f411b;capturedPhotos[_0x436c47(0x1e9)](_0x4e96f4),displayThumbnail(_0x4e96f4),updatePhotoCountDisplay(),startLivePreviewLoop(),captureButton[_0x436c47(0x1ed)]=![];},_0x4e96f4[_0x5f411b(0x185)]=_0x5cbc8f;}function calculateLayoutDimensions(_0x22c901,_0x12c2d8,_0x34b3d3,_0x311854){const _0x5ec713=_0x103ea7;let _0x2ac304,_0x4aa6c6,_0x543111,_0x46964b;switch(_0x22c901){case 0x3:_0x2ac304=0x3,_0x4aa6c6=0x1,_0x543111=_0x12c2d8+_0x311854*0x2,_0x46964b=_0x34b3d3*0x3+_0x311854*0x4;break;case 0x4:_0x2ac304=0x4,_0x4aa6c6=0x1,_0x543111=_0x12c2d8+_0x311854*0x2,_0x46964b=_0x34b3d3*0x4+_0x311854*0x5;break;case 0x6:_0x2ac304=0x3,_0x4aa6c6=0x2,_0x543111=_0x12c2d8*0x2+_0x311854*0x3,_0x46964b=_0x34b3d3*0x3+_0x311854*0x4;break;case 0x8:_0x2ac304=0x4,_0x4aa6c6=0x2,_0x543111=_0x12c2d8*0x2+_0x311854*0x3,_0x46964b=_0x34b3d3*0x4+_0x311854*0x5;break;default:console[_0x5ec713(0x180)](_0x5ec713(0x1d2)),_0x2ac304=0x4,_0x4aa6c6=0x1,_0x543111=_0x12c2d8+_0x311854*0x2,_0x46964b=_0x34b3d3*0x4+_0x311854*0x5;break;}return{'photoGridContentWidth':_0x543111,'photoGridContentHeight':_0x46964b,'photoRows':_0x2ac304,'photoCols':_0x4aa6c6};}function applySharpen(_0x1fb408,_0x5b2c9d,_0xfc25e,_0x554991,_0x30f06f,_0x24e259){const _0x36c156=_0x2c3d36,_0x313b41=_0x103ea7;if(_0x24e259===0x0)return;const _0x31deb2=_0x1fb408[_0x36c156(0x222)](_0x5b2c9d,_0xfc25e,_0x554991,_0x30f06f),_0x107a65=_0x31deb2[_0x313b41(0x1ee)],_0x3cf5bb=_0x24e259/0x64*0.5,_0x3f48f5=[0x0,-0x1,0x0,-0x1,0x5,-0x1,0x0,-0x1,0x0],_0x3e5c7a=new Uint8ClampedArray(_0x107a65[_0x313b41(0x1d5)]);for(let _0x58158f=0x0;_0x58158f<_0x107a65[_0x36c156(0x1bc)];_0x58158f+=0x4){const _0x3ea58f=Math[_0x313b41(0x1db)](_0x58158f/0x4/_0x554991),_0x199f74=_0x58158f/0x4%_0x554991;let _0x288e53=0x0,_0x1af6f5=0x0,_0x4bf9a3=0x0;for(let _0x4068c8=0x0;_0x4068c8<0x9;_0x4068c8++){const _0x4f768f=_0x3f48f5[_0x4068c8],_0x26bb1d=_0x4068c8%0x3-0x1,_0x2d4759=Math[_0x313b41(0x1db)](_0x4068c8/0x3)-0x1,_0x1ac683=_0x199f74+_0x26bb1d,_0x37ef2b=_0x3ea58f+_0x2d4759;if(_0x1ac683>=0x0&&_0x1ac683<_0x554991&&_0x37ef2b>=0x0&&_0x37ef2b<_0x30f06f){const _0x2b8378=(_0x37ef2b*_0x554991+_0x1ac683)*0x4;_0x288e53+=_0x107a65[_0x2b8378],_0x1af6f5+=_0x107a65[_0x2b8378+0x1],_0x4bf9a3+=_0x107a65[_0x2b8378+0x2],count++;}}_0x3e5c7a[_0x58158f]=Math[_0x313b41(0x21b)](0xff,Math['max'](0x0,_0x107a65[_0x58158f]+(_0x288e53-_0x107a65[_0x58158f])*_0x3cf5bb)),_0x3e5c7a[_0x58158f+0x1]=Math[_0x313b41(0x21b)](0xff,Math[_0x313b41(0x1dd)](0x0,_0x107a65[_0x58158f+0x1]+(_0x1af6f5-_0x107a65[_0x58158f+0x1])*_0x3cf5bb)),_0x3e5c7a[_0x58158f+0x2]=Math[_0x313b41(0x21b)](0xff,Math[_0x313b41(0x1dd)](0x0,_0x107a65[_0x58158f+0x2]+(_0x4bf9a3-_0x107a65[_0x58158f+0x2])*_0x3cf5bb)),_0x3e5c7a[_0x58158f+0x3]=_0x107a65[_0x58158f+0x3];}_0x31deb2[_0x313b41(0x1ee)][_0x313b41(0x1ec)](_0x3e5c7a),_0x1fb408[_0x313b41(0x235)](_0x31deb2,_0x5b2c9d,_0xfc25e);}function applyShadows(_0x27886b,_0xcb6d47,_0x2565f4,_0x3fc3cd,_0xe4d192,_0x564a2b){const _0x226f94=_0x2c3d36,_0x274b08=_0x103ea7;if(_0x564a2b===0x0)return;const _0x27236e=_0x27886b[_0x274b08(0x22d)](_0xcb6d47,_0x2565f4,_0x3fc3cd,_0xe4d192),_0x2fae74=_0x27236e[_0x226f94(0x1c1)],_0x1fc3da=_0x564a2b/0x64*0.5;for(let _0x20b6dd=0x0;_0x20b6dd<_0x2fae74[_0x274b08(0x1d5)];_0x20b6dd+=0x4){const _0x3cbce1=(_0x2fae74[_0x20b6dd]+_0x2fae74[_0x20b6dd+0x1]+_0x2fae74[_0x20b6dd+0x2])/0x3;_0x3cbce1<0x80&&(_0x2fae74[_0x20b6dd]=_0x2fae74[_0x20b6dd]*(0x1+_0x1fc3da),_0x2fae74[_0x20b6dd+0x1]=_0x2fae74[_0x20b6dd+0x1]*(0x1+_0x1fc3da),_0x2fae74[_0x20b6dd+0x2]=_0x2fae74[_0x20b6dd+0x2]*(0x1+_0x1fc3da));}_0x27886b[_0x274b08(0x235)](_0x27236e,_0xcb6d47,_0x2565f4);}function applyHighlights(_0x55ad1b,_0x24aca3,_0x14ec39,_0x25387a,_0x5ea8e0,_0x532adb){const _0x1c8ea2=_0x103ea7;if(_0x532adb===0x0)return;const _0x15519c=_0x55ad1b[_0x1c8ea2(0x22d)](_0x24aca3,_0x14ec39,_0x25387a,_0x5ea8e0),_0x2d036a=_0x15519c[_0x1c8ea2(0x1ee)],_0x171d23=_0x532adb/0x64*0.5;for(let _0x4dcb3f=0x0;_0x4dcb3f<_0x2d036a[_0x1c8ea2(0x1d5)];_0x4dcb3f+=0x4){const _0x5c5870=(_0x2d036a[_0x4dcb3f]+_0x2d036a[_0x4dcb3f+0x1]+_0x2d036a[_0x4dcb3f+0x2])/0x3;_0x5c5870>=0x80&&(_0x2d036a[_0x4dcb3f]=_0x2d036a[_0x4dcb3f]*(0x1+_0x171d23),_0x2d036a[_0x4dcb3f+0x1]=_0x2d036a[_0x4dcb3f+0x1]*(0x1+_0x171d23),_0x2d036a[_0x4dcb3f+0x2]=_0x2d036a[_0x4dcb3f+0x2]*(0x1+_0x171d23));}_0x55ad1b[_0x1c8ea2(0x235)](_0x15519c,_0x24aca3,_0x14ec39);}function applyClarity(_0x28f29f,_0xdc039,_0x19f081,_0x497ceb,_0x5359c9,_0x424bfb){const _0x52a890=_0x2c3d36,_0x14d925=_0x103ea7;if(_0x424bfb===0x0)return;const _0x460053=_0x28f29f[_0x14d925(0x22d)](_0xdc039,_0x19f081,_0x497ceb,_0x5359c9),_0x566fff=_0x460053[_0x14d925(0x1ee)],_0xb25649=_0x424bfb/0x64*0.2;for(let _0x2b39ac=0x0;_0x2b39ac<_0x566fff[_0x14d925(0x1d5)];_0x2b39ac+=0x4){const _0x170b6d=_0x566fff[_0x2b39ac],_0x4f7caf=_0x566fff[_0x2b39ac+0x1],_0x44c761=_0x566fff[_0x2b39ac+0x2];_0x566fff[_0x2b39ac]=_0x170b6d+(_0x170b6d-0x80)*_0xb25649,_0x566fff[_0x2b39ac+0x1]=_0x4f7caf+(_0x4f7caf-0x80)*_0xb25649,_0x566fff[_0x2b39ac+0x2]=_0x44c761+(_0x44c761-0x80)*_0xb25649,_0x566fff[_0x2b39ac]=Math[_0x52a890(0x14f)](0xff,Math[_0x14d925(0x1dd)](0x0,_0x566fff[_0x2b39ac])),_0x566fff[_0x2b39ac+0x1]=Math[_0x14d925(0x21b)](0xff,Math[_0x14d925(0x1dd)](0x0,_0x566fff[_0x2b39ac+0x1])),_0x566fff[_0x2b39ac+0x2]=Math[_0x14d925(0x21b)](0xff,Math[_0x14d925(0x1dd)](0x0,_0x566fff[_0x2b39ac+0x2]));}_0x28f29f[_0x14d925(0x235)](_0x460053,_0xdc039,_0x19f081);}async function drawCombinedImage(_0x4648ca,_0x681e98,_0x30809b,_0x718d42,_0x2c3ba6={},_0x339a29=![],_0x4d7837={}){const _0x345b55=_0x2c3d36,_0x16d8d9=_0x103ea7,_0x3d9516=photoWidth,_0x41f047=photoHeight,_0x193682=_0x339a29?0x5:_0x2c3ba6[_0x16d8d9(0x1b4)]||0x0,_0x219c89=_0x339a29?0x5:_0x2c3ba6[_0x345b55(0x171)]||0xa,_0x295fea=_0x339a29?0x1e:0x3c,_0x53d411=0xa,{photoGridContentWidth:_0x497730,photoGridContentHeight:_0x55cd2c,photoRows:_0xa4262f,photoCols:_0x2e5a3e}=calculateLayoutDimensions(_0x681e98,_0x3d9516,_0x41f047,_0x219c89);let _0x131ffa=0x0;_0x2c3ba6[_0x16d8d9(0x1bf)]&&!_0x339a29&&(_0x131ffa=_0x2c3ba6[_0x16d8d9(0x17c)]*1.5+_0x53d411*0x2);let _0x2e8cf2=0x0;_0x2c3ba6[_0x345b55(0x151)]&&!_0x339a29&&(_0x2e8cf2=_0x2c3ba6['fontSize']*1.5+_0x53d411*0x2);let _0x3f39bf=_0x2c3ba6[_0x16d8d9(0x21f)]?_0x295fea:0x0,_0x1e619a=_0x2c3ba6['bottomPattern']?_0x295fea:0x0;const _0x300eee=_0x497730+_0x193682*0x2,_0x23bca2=_0x55cd2c+_0x193682*0x2+_0x3f39bf+_0x131ffa+_0x2e8cf2+_0x1e619a;if(_0x339a29){const _0x34b32b=0x258,_0xe3d646=_0x23bca2/_0x300eee;_0x718d42[_0x16d8d9(0x1e1)]=_0x34b32b,_0x718d42[_0x16d8d9(0x219)]=_0x34b32b*_0xe3d646,_0x30809b[_0x16d8d9(0x182)](),_0x30809b[_0x345b55(0x197)](_0x718d42[_0x345b55(0x18d)]/_0x300eee,_0x718d42[_0x16d8d9(0x219)]/_0x23bca2);}else _0x718d42[_0x16d8d9(0x1e1)]=_0x300eee,_0x718d42[_0x16d8d9(0x219)]=_0x23bca2;_0x30809b[_0x345b55(0x174)](0x0,0x0,_0x718d42[_0x16d8d9(0x1e1)],_0x718d42[_0x345b55(0x18f)]),_0x30809b[_0x345b55(0x1aa)]=_0x2c3ba6[_0x16d8d9(0x188)]||_0x16d8d9(0x1ea),_0x30809b[_0x16d8d9(0x22e)](0x0,0x0,_0x300eee,_0x23bca2),_0x193682>0x0&&(_0x30809b[_0x345b55(0x221)]=_0x2c3ba6[_0x16d8d9(0x1c3)]||_0x16d8d9(0x1aa),_0x30809b[_0x16d8d9(0x1d3)]=_0x193682,_0x30809b[_0x16d8d9(0x212)](0x0,0x0,_0x300eee,_0x23bca2));let _0x533089=_0x193682;if(_0x2c3ba6['topPattern']){const _0x343e7d=new Image();_0x343e7d[_0x16d8d9(0x1e0)]='Anonymous',_0x343e7d[_0x345b55(0x193)]=_0x2c3ba6[_0x16d8d9(0x21f)];try{await new Promise((_0x23ce90,_0x52d597)=>{const _0x2649d9=_0x16d8d9;_0x343e7d[_0x2649d9(0x1fa)]=_0x23ce90,_0x343e7d[_0x2649d9(0x243)]=_0x52d597;}),_0x30809b[_0x16d8d9(0x23b)](_0x343e7d,_0x193682,_0x533089,_0x300eee-_0x193682*0x2,_0x3f39bf);}catch(_0x5f0fb2){console[_0x16d8d9(0x1e7)](_0x345b55(0x213),_0x5f0fb2);}_0x533089+=_0x3f39bf;}if(_0x2c3ba6[_0x16d8d9(0x1bf)]&&!_0x339a29){const _0x143e71=_0x2c3ba6[_0x345b55(0x169)]?_0x16d8d9(0x17e):'',_0x555afe=_0x2c3ba6[_0x16d8d9(0x257)]?_0x16d8d9(0x22c):'';_0x30809b[_0x345b55(0x1aa)]=_0x2c3ba6[_0x16d8d9(0x1bc)]||_0x16d8d9(0x1e8),_0x30809b[_0x16d8d9(0x1da)]=''+_0x143e71+_0x555afe+(_0x2c3ba6[_0x16d8d9(0x17c)]||0x1e)+_0x16d8d9(0x1cb)+(_0x2c3ba6[_0x16d8d9(0x1fb)]||_0x16d8d9(0x18f)),_0x30809b[_0x345b55(0x182)]=_0x16d8d9(0x225),_0x30809b[_0x16d8d9(0x1c5)]=_0x16d8d9(0x193);const _0x72cd84=_0x300eee/0x2,_0x554cff=_0x533089+_0x131ffa/0x2;_0x30809b[_0x16d8d9(0x20b)](_0x2c3ba6[_0x16d8d9(0x1bf)],_0x72cd84,_0x554cff),_0x533089+=_0x131ffa;}const _0x3df23c=_0x3d9516,_0x4d2a20=_0x41f047;for(let _0x3a76eb=0x0;_0x3a76eb<selectedLayout;_0x3a76eb++){const _0x415685=Math[_0x16d8d9(0x1db)](_0x3a76eb/_0x2e5a3e),_0x505724=_0x3a76eb%_0x2e5a3e,_0x31df56=_0x193682+_0x219c89+_0x505724*(_0x3df23c+_0x219c89),_0x51be29=_0x533089+_0x219c89+_0x415685*(_0x4d2a20+_0x219c89);if(_0x3a76eb<_0x4648ca[_0x345b55(0x1bc)]){const _0xe29fe5=_0x4648ca[_0x3a76eb];if(!_0x339a29){const _0x16a6e3=document[_0x16d8d9(0x227)](_0x345b55(0x1be));_0x16a6e3[_0x16d8d9(0x1e1)]=_0x3df23c,_0x16a6e3[_0x345b55(0x18f)]=_0x4d2a20;const _0x3ab3c3=_0x16a6e3[_0x16d8d9(0x259)]('2d');_0x3ab3c3[_0x345b55(0x23e)]=_0x16d8d9(0x17a)+(_0x4d7837[_0x16d8d9(0x254)]||0x64)+_0x16d8d9(0x204)+(_0x4d7837[_0x345b55(0x240)]||0x64)+_0x16d8d9(0x25d)+(_0x4d7837[_0x16d8d9(0x19a)]||0x0)+_0x16d8d9(0x1e6)+(_0x4d7837[_0x16d8d9(0x230)]||0x64)+_0x16d8d9(0x1d1)+(_0x4d7837[_0x16d8d9(0x1cf)]?_0x4d7837[_0x16d8d9(0x1cf)]*0.5:0x0)+_0x16d8d9(0x236),_0x3ab3c3[_0x16d8d9(0x23b)](_0xe29fe5,0x0,0x0,_0x3df23c,_0x4d2a20),_0x4d7837[_0x16d8d9(0x18d)]>0x0&&applySharpen(_0x3ab3c3,0x0,0x0,_0x3df23c,_0x4d2a20,_0x4d7837[_0x16d8d9(0x18d)]),_0x4d7837[_0x16d8d9(0x183)]!==0x0&&applyShadows(_0x3ab3c3,0x0,0x0,_0x3df23c,_0x4d2a20,_0x4d7837[_0x16d8d9(0x183)]),_0x4d7837[_0x16d8d9(0x1de)]!==0x0&&applyHighlights(_0x3ab3c3,0x0,0x0,_0x3df23c,_0x4d2a20,_0x4d7837[_0x16d8d9(0x1de)]),_0x4d7837[_0x16d8d9(0x1c1)]>0x0&&applyClarity(_0x3ab3c3,0x0,0x0,_0x3df23c,_0x4d2a20,_0x4d7837[_0x16d8d9(0x1c1)]),_0x30809b[_0x16d8d9(0x23b)](_0x16a6e3,_0x31df56,_0x51be29,_0x3df23c,_0x4d2a20);}else _0x30809b[_0x16d8d9(0x23b)](_0xe29fe5,_0x31df56,_0x51be29,_0x3df23c,_0x4d2a20);}else _0x3a76eb===_0x4648ca[_0x16d8d9(0x1d5)]&&_0x339a29&&videoFeed['readyState']>=0x2?(_0x30809b[_0x345b55(0x209)](),_0x30809b['translate'](_0x31df56+_0x3df23c,_0x51be29),_0x30809b[_0x16d8d9(0x263)](-0x1,0x1),_0x30809b[_0x16d8d9(0x23b)](videoFeed,0x0,0x0,_0x3df23c,_0x4d2a20),_0x30809b[_0x16d8d9(0x240)]()):(_0x30809b[_0x16d8d9(0x1bd)]=_0x16d8d9(0x186),_0x30809b[_0x16d8d9(0x22e)](_0x31df56,_0x51be29,_0x3df23c,_0x4d2a20),_0x30809b[_0x345b55(0x221)]=_0x345b55(0x212),_0x30809b[_0x16d8d9(0x1d3)]=0x2,_0x30809b[_0x16d8d9(0x212)](_0x31df56,_0x51be29,_0x3df23c,_0x4d2a20),_0x30809b[_0x16d8d9(0x1bd)]=_0x16d8d9(0x17f),_0x30809b[_0x16d8d9(0x1da)]=_0x16d8d9(0x256),_0x30809b[_0x16d8d9(0x1d4)]=_0x345b55(0x19a),_0x30809b[_0x345b55(0x1cc)]=_0x345b55(0x165),_0x30809b[_0x16d8d9(0x20b)](_0x16d8d9(0x178)+(_0x3a76eb+0x1),_0x31df56+_0x3df23c/0x2,_0x51be29+_0x4d2a20/0x2));}_0x533089+=_0x55cd2c;if(_0x2c3ba6[_0x16d8d9(0x1d0)]&&!_0x339a29){const _0x200df7=_0x2c3ba6[_0x16d8d9(0x1b3)]?'italic\x20':'',_0x313aeb=_0x2c3ba6['isBold']?_0x16d8d9(0x22c):'';_0x30809b[_0x16d8d9(0x1bd)]=_0x2c3ba6[_0x16d8d9(0x1bc)]||_0x16d8d9(0x1e8),_0x30809b[_0x16d8d9(0x1da)]=''+_0x200df7+_0x313aeb+(_0x2c3ba6[_0x16d8d9(0x17c)]||0x1e)+_0x345b55(0x195)+(_0x2c3ba6[_0x16d8d9(0x1fb)]||_0x345b55(0x196)),_0x30809b[_0x16d8d9(0x1d4)]=_0x16d8d9(0x225),_0x30809b[_0x16d8d9(0x1c5)]=_0x16d8d9(0x193);const _0x3ced97=_0x300eee/0x2,_0x219409=_0x533089+_0x2e8cf2/0x2;_0x30809b[_0x16d8d9(0x20b)](_0x2c3ba6[_0x16d8d9(0x1d0)],_0x3ced97,_0x219409),_0x533089+=_0x2e8cf2;}if(_0x2c3ba6[_0x345b55(0x17e)]){const _0x49e175=new Image();_0x49e175[_0x16d8d9(0x1e0)]=_0x16d8d9(0x1b9),_0x49e175['src']=_0x2c3ba6[_0x16d8d9(0x1ce)];try{await new Promise((_0x55da2b,_0x3db603)=>{const _0x25f00c=_0x16d8d9;_0x49e175[_0x25f00c(0x1fa)]=_0x55da2b,_0x49e175[_0x25f00c(0x243)]=_0x3db603;}),_0x30809b[_0x16d8d9(0x23b)](_0x49e175,_0x193682,_0x533089,_0x300eee-_0x193682*0x2,_0x1e619a);}catch(_0x177ded){console[_0x345b55(0x229)](_0x345b55(0x1e8),_0x177ded);}_0x533089+=_0x1e619a;}if(_0x2c3ba6[_0x345b55(0x216)]){const _0x1ddafd=new Image();_0x1ddafd[_0x16d8d9(0x1e0)]=_0x16d8d9(0x1b9),_0x1ddafd[_0x345b55(0x193)]=_0x2c3ba6[_0x345b55(0x216)];try{await new Promise((_0x2e1fc1,_0x256217)=>{const _0x185b36=_0x345b55;_0x1ddafd['onload']=_0x2e1fc1,_0x1ddafd[_0x185b36(0x1e0)]=_0x256217;}),_0x30809b[_0x345b55(0x209)](),_0x30809b[_0x16d8d9(0x251)]=0.2,_0x30809b[_0x16d8d9(0x23b)](_0x1ddafd,_0x193682,_0x193682,_0x300eee-_0x193682*0x2,_0x23bca2-_0x193682*0x2),_0x30809b[_0x16d8d9(0x240)]();}catch(_0x4e5dcf){console[_0x16d8d9(0x1e7)](_0x16d8d9(0x201),_0x4e5dcf);}}_0x339a29&&_0x30809b[_0x345b55(0x20f)](),!_0x339a29&&(originalCombinedImage=new Image(),originalCombinedImage[_0x16d8d9(0x185)]=combinedCanvas[_0x345b55(0x20b)](_0x345b55(0x22a),0x1));}function startLivePreviewLoop(){function _0x1916f6(){updateLivePreview(),animationFrameId=requestAnimationFrame(_0x1916f6);}_0x1916f6();}function updateLivePreview(){const _0x358aa6=_0x2c3d36,_0x1b0a2f=_0x103ea7,_0x3b2ca7=getCurrentDecorationsForLivePreview(),_0x4c65b3=photoWidth,_0x297c73=photoHeight,_0xc3ce78=0x5,_0x1d62a3=parseInt(imageGapSlider[_0x358aa6(0x187)],0xa),_0x3921c1=0x1e,_0x2e5750=0xa,{photoGridContentWidth:_0x5e0119,photoGridContentHeight:_0x7f0aa5,photoRows:_0x969a7e,photoCols:_0x3cf0d4}=calculateLayoutDimensions(selectedLayout,_0x4c65b3,_0x297c73,_0x1d62a3);let _0x2cbf3a=_0x3b2ca7[_0x1b0a2f(0x1bf)]?_0x3b2ca7[_0x358aa6(0x23b)]*1.5+_0x2e5750*0x2:0x0,_0x44f9ec=_0x3b2ca7[_0x1b0a2f(0x1d0)]?_0x3b2ca7[_0x1b0a2f(0x17c)]*1.5+_0x2e5750*0x2:0x0,_0x3dd610=_0x3b2ca7[_0x1b0a2f(0x21f)]?_0x3921c1:0x0,_0x1a9e6f=_0x3b2ca7[_0x1b0a2f(0x1ce)]?_0x3921c1:0x0;const _0x1dacd5=_0x5e0119+_0xc3ce78*0x2,_0x51f8eb=_0x7f0aa5+_0xc3ce78*0x2+_0x3dd610+_0x2cbf3a+_0x44f9ec+_0x1a9e6f;if(liveCanvasWrapper){const _0x44e703=_0x51f8eb/_0x1dacd5*0x64;liveCanvasWrapper[_0x1b0a2f(0x202)]['paddingBottom']=_0x44e703+'%';}drawCombinedImage(capturedPhotos,selectedLayout,liveCombinedCtx,liveCombinedCanvas,_0x3b2ca7,!![]);}function getCurrentDecorationsForLivePreview(){const _0x5df7d5=_0x2c3d36,_0x55307c=_0x103ea7;let _0xaf2188=backgroundColorPicker['value'],_0xf3dc25=borderColorPicker[_0x5df7d5(0x187)];transparentBackgroundColorCheckbox[_0x5df7d5(0x180)]&&(_0xaf2188=_0x5df7d5(0x16f));if(syncColorsCheckbox[_0x55307c(0x1e3)])_0xf3dc25=_0xaf2188;else transparentBorderColorCheckbox[_0x5df7d5(0x180)]&&(_0xf3dc25=_0x5df7d5(0x16f));return{'backgroundColor':_0xaf2188,'borderColor':_0xf3dc25,'borderWidth':parseInt(borderWidthSlider[_0x55307c(0x1e5)],0xa),'innerImageGap':parseInt(imageGapSlider[_0x5df7d5(0x187)],0xa),'topCaptionText':topCaptionTextInput[_0x55307c(0x1e5)],'bottomCaptionText':bottomCaptionTextInput[_0x55307c(0x1e5)],'fontColor':fontColorPicker[_0x55307c(0x1e5)],'fontSize':parseInt(fontSizeSlider[_0x5df7d5(0x187)],0xa),'fontFamily':fontFamilySelect[_0x55307c(0x1e5)],'isBold':isBoldCheckbox[_0x55307c(0x1e3)],'isItalic':isItalicCheckbox['checked'],'topPattern':selectedTopPattern,'bottomPattern':selectedBottomPattern,'overlayPattern':selectedOverlayPattern};}function getCurrentDecorations(){const _0x419e99=_0x2c3d36,_0x3fd6c8=_0x103ea7;let _0x3de8ac=backgroundColorPicker[_0x3fd6c8(0x1e5)],_0x1cf9e0=borderColorPicker[_0x3fd6c8(0x1e5)];transparentBackgroundColorCheckbox[_0x3fd6c8(0x1e3)]&&(_0x3de8ac=_0x3fd6c8(0x1a6));if(syncColorsCheckbox[_0x3fd6c8(0x1e3)])_0x1cf9e0=_0x3de8ac;else transparentBorderColorCheckbox[_0x419e99(0x180)]&&(_0x1cf9e0=_0x3fd6c8(0x1a6));return{'backgroundColor':_0x3de8ac,'borderColor':_0x1cf9e0,'borderWidth':parseInt(borderWidthSlider[_0x3fd6c8(0x1e5)],0xa),'innerImageGap':parseInt(imageGapSlider[_0x3fd6c8(0x1e5)],0xa),'topCaptionText':topCaptionTextInput[_0x3fd6c8(0x1e5)],'bottomCaptionText':bottomCaptionTextInput[_0x3fd6c8(0x1e5)],'fontColor':fontColorPicker[_0x3fd6c8(0x1e5)],'fontSize':parseInt(fontSizeSlider[_0x3fd6c8(0x1e5)],0xa),'fontFamily':fontFamilySelect[_0x3fd6c8(0x1e5)],'isBold':isBoldCheckbox[_0x3fd6c8(0x1e3)],'isItalic':isItalicCheckbox[_0x3fd6c8(0x1e3)],'topPattern':selectedTopPattern,'bottomPattern':selectedBottomPattern,'overlayPattern':selectedOverlayPattern};}function _0x2b62(_0x599e37,_0x1c74cd){const _0x2076db=_0x2076();return _0x2b62=function(_0x2b6273,_0x4238cb){_0x2b6273=_0x2b6273-0x14e;let _0x1151e4=_0x2076db[_0x2b6273];return _0x1151e4;},_0x2b62(_0x599e37,_0x1c74cd);}function getCurrentFilters(){const _0x4ea9cf=_0x103ea7;return{'contrast':contrastSlider[_0x4ea9cf(0x1e5)],'brightness':brightnessSlider[_0x4ea9cf(0x1e5)],'grayscale':grayscaleSlider[_0x4ea9cf(0x1e5)],'saturation':saturationSlider[_0x4ea9cf(0x1e5)],'warmth':warmthSlider['value'],'sharpen':sharpenSlider[_0x4ea9cf(0x1e5)],'shadows':shadowsSlider[_0x4ea9cf(0x1e5)],'highlights':highlightsSlider['value'],'clarity':claritySlider[_0x4ea9cf(0x1e5)]};}async function applyFilters(){const _0x53199d=_0x103ea7;if(capturedPhotos[_0x53199d(0x1d5)]===0x0)return;await drawCombinedImage(capturedPhotos,selectedLayout,combinedCtx,combinedCanvas,getCurrentDecorations(),![],getCurrentFilters());}async function applyDecorations(){const _0x52d39d=_0x103ea7;if(capturedPhotos[_0x52d39d(0x1d5)]===0x0){showMessageBox(_0x52d39d(0x1d9));return;}await drawCombinedImage(capturedPhotos,selectedLayout,combinedCtx,combinedCanvas,getCurrentDecorations(),![],getCurrentFilters());}function saveCombinedPhoto(){const _0x340983=_0x2c3d36,_0x49ec86=_0x103ea7;if(!combinedCanvas[_0x340983(0x1b3)][_0x49ec86(0x1ca)]||combinedCanvas[_0x49ec86(0x202)][_0x49ec86(0x1ca)]===_0x49ec86(0x1c2)||combinedCanvas[_0x49ec86(0x1e1)]===0x0||combinedCanvas[_0x49ec86(0x219)]===0x0){showMessageBox(_0x340983(0x15c));return;}const _0x17e312=combinedCanvas['toDataURL'](_0x49ec86(0x1e2)),_0x2000eb=document[_0x49ec86(0x227)]('a');_0x2000eb[_0x49ec86(0x192)]=_0x17e312,_0x2000eb[_0x49ec86(0x1b0)]=_0x49ec86(0x216),document[_0x49ec86(0x25f)][_0x49ec86(0x255)](_0x2000eb),_0x2000eb[_0x49ec86(0x1c8)](),document[_0x49ec86(0x25f)][_0x49ec86(0x22f)](_0x2000eb),showMessageBox(_0x49ec86(0x20e));}function printCombinedPhoto(){const _0x34cb3c=_0x2c3d36,_0x520028=_0x103ea7;if(!combinedCanvas[_0x520028(0x202)][_0x520028(0x1ca)]||combinedCanvas[_0x520028(0x202)][_0x520028(0x1ca)]===_0x520028(0x1c2)||combinedCanvas[_0x520028(0x1e1)]===0x0||combinedCanvas[_0x520028(0x219)]===0x0){showMessageBox(_0x520028(0x1f8));return;}const _0x4d5ca6=combinedCanvas[_0x520028(0x209)](_0x520028(0x1e2)),_0x3e4248=window[_0x34cb3c(0x1d6)]('',_0x34cb3c(0x1f7));_0x3e4248[_0x34cb3c(0x14e)][_0x520028(0x25b)](_0x520028(0x187)+_0x4d5ca6+_0x520028(0x1f2)),_0x3e4248[_0x34cb3c(0x14e)]['close']();}function retakePhotos(){const _0x5fde30=_0x2c3d36,_0x2454c5=_0x103ea7;capturedPhotos=[],thumbnailsContainer[_0x2454c5(0x1f9)]='',updatePhotoCountDisplay(),combinedCanvas[_0x2454c5(0x202)][_0x2454c5(0x1ca)]=_0x2454c5(0x1c2),originalCombinedImage=null,switchStage(cameraStage),startCamera(),backgroundColorPicker[_0x2454c5(0x1e5)]=_0x5fde30(0x1e3),transparentBackgroundColorCheckbox[_0x2454c5(0x1e3)]=![],borderColorPicker[_0x2454c5(0x1e5)]=_0x2454c5(0x1aa),transparentBorderColorCheckbox[_0x2454c5(0x1e3)]=![],syncColorsCheckbox[_0x2454c5(0x1e3)]=![],borderWidthSlider[_0x5fde30(0x187)]='10',borderWidthValueSpan['textContent']=_0x5fde30(0x1b7),imageGapSlider[_0x5fde30(0x187)]='10',imageGapValueSpan[_0x2454c5(0x1a2)]=_0x2454c5(0x1f4),topCaptionTextInput[_0x2454c5(0x1e5)]='',bottomCaptionTextInput[_0x2454c5(0x1e5)]='',fontColorPicker[_0x2454c5(0x1e5)]=_0x2454c5(0x1e8),fontSizeSlider[_0x5fde30(0x187)]='30',fontSizeValueSpan[_0x2454c5(0x1a2)]=_0x5fde30(0x199),fontFamilySelect[_0x5fde30(0x187)]=_0x5fde30(0x196),isBoldCheckbox[_0x2454c5(0x1e3)]=![],isItalicCheckbox[_0x2454c5(0x1e3)]=![],contrastSlider[_0x2454c5(0x1e5)]=_0x2454c5(0x23c),contrastValueSpan[_0x2454c5(0x1a2)]=_0x5fde30(0x152),brightnessSlider[_0x2454c5(0x1e5)]=_0x2454c5(0x23c),brightnessValueSpan[_0x2454c5(0x1a2)]=_0x5fde30(0x152),saturationSlider[_0x2454c5(0x1e5)]=_0x5fde30(0x1ac),saturationValueSpan[_0x2454c5(0x1a2)]=_0x2454c5(0x252),warmthSlider[_0x2454c5(0x1e5)]='0',warmthValueSpan[_0x2454c5(0x1a2)]='0%',grayscaleSlider[_0x5fde30(0x187)]='0',grayscaleValueSpan[_0x2454c5(0x1a2)]='0%',sharpenSlider[_0x2454c5(0x1e5)]='0',sharpenValueSpan[_0x2454c5(0x1a2)]='0%',shadowsSlider[_0x2454c5(0x1e5)]='0',shadowsValueSpan[_0x5fde30(0x173)]='0%',highlightsSlider[_0x2454c5(0x1e5)]='0',highlightsValueSpan[_0x5fde30(0x173)]='0%',claritySlider[_0x5fde30(0x187)]='0',clarityValueSpan[_0x2454c5(0x1a2)]='0%',topPatternSelector[_0x5fde30(0x184)](_0x2454c5(0x1d7))[_0x2454c5(0x224)](_0x40705f=>_0x40705f[_0x2454c5(0x24d)][_0x2454c5(0x1ff)](_0x2454c5(0x237))),topPatternSelector[_0x2454c5(0x22a)](_0x2454c5(0x260))[_0x5fde30(0x1ed)][_0x5fde30(0x1c0)](_0x5fde30(0x1db)),selectedTopPattern='',bottomPatternSelector[_0x2454c5(0x20d)](_0x2454c5(0x1d7))[_0x2454c5(0x224)](_0x5256e4=>_0x5256e4[_0x2454c5(0x24d)][_0x2454c5(0x1ff)]('selected')),bottomPatternSelector[_0x5fde30(0x235)](_0x2454c5(0x260))[_0x2454c5(0x24d)][_0x2454c5(0x19e)](_0x2454c5(0x237)),selectedBottomPattern='',overlayPatternSelector[_0x2454c5(0x20d)]('img')[_0x2454c5(0x224)](_0x537ff4=>_0x537ff4[_0x2454c5(0x24d)][_0x2454c5(0x1ff)](_0x2454c5(0x237))),overlayPatternSelector[_0x2454c5(0x22a)](_0x5fde30(0x162))[_0x2454c5(0x24d)][_0x5fde30(0x1c0)](_0x2454c5(0x237)),selectedOverlayPattern='';}function populatePatternSelectors(){const _0x61cf7=_0x2c3d36,_0x21cf13=_0x103ea7;topPatternSelector[_0x21cf13(0x1f9)]=_0x21cf13(0x1df),bottomPatternSelector[_0x21cf13(0x1f9)]='<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20w-full\x20mb-1\x22>Họa\x20tiết\x20dưới:</span>',overlayPatternSelector[_0x61cf7(0x1f2)]=_0x21cf13(0x1b5),topPatternList['forEach'](_0x4b617e=>{const _0xf783bc=_0x61cf7,_0x1bb90f=_0x21cf13,_0x3b0119=document[_0x1bb90f(0x227)](_0x1bb90f(0x1d7));_0x3b0119[_0xf783bc(0x193)]=_0x4b617e[_0xf783bc(0x194)],_0x3b0119[_0x1bb90f(0x213)]=_0x4b617e[_0x1bb90f(0x1b7)],_0x3b0119[_0x1bb90f(0x24f)][_0x1bb90f(0x228)]=_0x4b617e[_0x1bb90f(0x185)],_0x3b0119[_0x1bb90f(0x24d)][_0x1bb90f(0x19e)](_0x1bb90f(0x223),'border-2',_0x1bb90f(0x247)),topPatternSelector[_0xf783bc(0x1dd)](_0x3b0119);}),bottomPatternList[_0x21cf13(0x224)](_0x5b0400=>{const _0x28519c=_0x21cf13,_0x3ae621=document[_0x28519c(0x227)](_0x28519c(0x1d7));_0x3ae621[_0x28519c(0x185)]=_0x5b0400[_0x28519c(0x24c)],_0x3ae621[_0x28519c(0x213)]=_0x5b0400[_0x28519c(0x1b7)],_0x3ae621[_0x28519c(0x24f)][_0x28519c(0x228)]=_0x5b0400[_0x28519c(0x185)],_0x3ae621[_0x28519c(0x24d)][_0x28519c(0x19e)]('rounded-md',_0x28519c(0x17d),_0x28519c(0x247)),bottomPatternSelector['appendChild'](_0x3ae621);}),overlayPatternList[_0x21cf13(0x224)](_0x271420=>{const _0x1aacf9=_0x61cf7,_0x1ebc16=_0x21cf13,_0x58db23=document[_0x1aacf9(0x208)](_0x1ebc16(0x1d7));_0x58db23[_0x1ebc16(0x185)]=_0x271420[_0x1ebc16(0x24c)],_0x58db23['alt']=_0x271420[_0x1ebc16(0x1b7)],_0x58db23[_0x1ebc16(0x24f)][_0x1ebc16(0x228)]=_0x271420[_0x1ebc16(0x185)],_0x58db23['classList'][_0x1ebc16(0x19e)](_0x1ebc16(0x223),_0x1ebc16(0x17d),_0x1ebc16(0x247)),overlayPatternSelector[_0x1ebc16(0x255)](_0x58db23);}),topPatternSelector[_0x21cf13(0x22a)](_0x21cf13(0x260))[_0x21cf13(0x24d)][_0x21cf13(0x19e)](_0x21cf13(0x237)),bottomPatternSelector[_0x21cf13(0x22a)](_0x21cf13(0x260))[_0x21cf13(0x24d)][_0x21cf13(0x19e)](_0x61cf7(0x1db)),overlayPatternSelector[_0x21cf13(0x22a)](_0x21cf13(0x260))[_0x21cf13(0x24d)][_0x21cf13(0x19e)](_0x21cf13(0x237)),selectedTopPattern='',selectedBottomPattern='',selectedOverlayPattern='';}window[_0x103ea7(0x1fa)]=()=>{populatePatternSelectors(),startCamera();},captureButton[_0x103ea7(0x198)](_0x103ea7(0x1c8),capturePhoto),combineButton[_0x103ea7(0x198)](_0x103ea7(0x1c8),async()=>{const _0x5a094f=_0x103ea7;capturedPhotos[_0x5a094f(0x1d5)]===selectedLayout?(switchStage(previewStage),await applyDecorations(),stopCamera()):showMessageBox(_0x5a094f(0x265)+selectedLayout+_0x5a094f(0x1ef));}),retakeButton['addEventListener'](_0x103ea7(0x1c8),retakePhotos),saveButton[_0x103ea7(0x198)](_0x103ea7(0x1c8),saveCombinedPhoto),printButton[_0x103ea7(0x198)](_0x103ea7(0x1c8),printCombinedPhoto),layoutButtons[_0x103ea7(0x224)](_0x3fbe66=>{const _0x29ea76=_0x103ea7;_0x3fbe66[_0x29ea76(0x198)](_0x29ea76(0x1c8),()=>{const _0x5096de=_0x2b62,_0x32dc8e=_0x29ea76,_0x5dc6ac=parseInt(_0x3fbe66[_0x32dc8e(0x24f)][_0x5096de(0x188)],0xa);_0x5dc6ac!==selectedLayout&&(selectedLayout=_0x5dc6ac,capturedPhotos=[],thumbnailsContainer[_0x32dc8e(0x1f9)]='',updatePhotoCountDisplay(),updateLivePreview(),showMessageBox(_0x32dc8e(0x21c)+selectedLayout+_0x32dc8e(0x1f3))),layoutButtons[_0x32dc8e(0x224)](_0x356930=>_0x356930[_0x32dc8e(0x24d)][_0x32dc8e(0x1ff)](_0x32dc8e(0x18e),_0x32dc8e(0x217))),_0x3fbe66[_0x32dc8e(0x24d)][_0x5096de(0x1c0)](_0x32dc8e(0x18e),_0x32dc8e(0x217));});}),updatePhotoCountDisplay(),layoutButtons[0x1][_0x103ea7(0x24d)]['add'](_0x103ea7(0x18e),_0x103ea7(0x217)),borderWidthSlider[_0x103ea7(0x198)](_0x103ea7(0x242),()=>{const _0x195d05=_0x103ea7;borderWidthValueSpan[_0x195d05(0x1a2)]=borderWidthSlider[_0x195d05(0x1e5)]+'px',updateLivePreview();}),imageGapSlider[_0x103ea7(0x198)](_0x2c3d36(0x1c7),()=>{const _0x158d4=_0x2c3d36,_0x1b1bbf=_0x103ea7;imageGapValueSpan[_0x1b1bbf(0x1a2)]=imageGapSlider[_0x158d4(0x187)]+'px',updateLivePreview();}),fontSizeSlider[_0x103ea7(0x198)](_0x2c3d36(0x1c7),()=>{const _0x5d24a5=_0x2c3d36,_0x53c11d=_0x103ea7;fontSizeValueSpan[_0x5d24a5(0x173)]=fontSizeSlider[_0x53c11d(0x1e5)]+'px',updateLivePreview();}),contrastSlider[_0x103ea7(0x198)](_0x2c3d36(0x1c7),()=>{const _0x530e76=_0x2c3d36;contrastValueSpan[_0x530e76(0x173)]=contrastSlider['value']+'%',applyFilters();}),brightnessSlider[_0x103ea7(0x198)](_0x2c3d36(0x1c7),()=>{const _0x2c335a=_0x2c3d36,_0x527c2e=_0x103ea7;brightnessValueSpan[_0x527c2e(0x1a2)]=brightnessSlider[_0x2c335a(0x187)]+'%',applyFilters();}),saturationSlider[_0x2c3d36(0x223)](_0x2c3d36(0x1c7),()=>{const _0x4ac557=_0x103ea7;saturationValueSpan[_0x4ac557(0x1a2)]=saturationSlider[_0x4ac557(0x1e5)]+'%',applyFilters();}),warmthSlider[_0x103ea7(0x198)](_0x103ea7(0x242),()=>{const _0x5520ce=_0x103ea7;warmthValueSpan[_0x5520ce(0x1a2)]=warmthSlider[_0x5520ce(0x1e5)]+'%',applyFilters();}),grayscaleSlider[_0x103ea7(0x198)](_0x103ea7(0x242),()=>{const _0x13480a=_0x103ea7;grayscaleValueSpan[_0x13480a(0x1a2)]=grayscaleSlider[_0x13480a(0x1e5)]+'%',applyFilters();}),sharpenSlider['addEventListener'](_0x103ea7(0x242),()=>{const _0x5d66e7=_0x103ea7;sharpenValueSpan[_0x5d66e7(0x1a2)]=sharpenSlider[_0x5d66e7(0x1e5)]+'%',applyFilters();}),shadowsSlider[_0x103ea7(0x198)](_0x103ea7(0x242),()=>{const _0x35e1c5=_0x2c3d36;shadowsValueSpan[_0x35e1c5(0x173)]=shadowsSlider[_0x35e1c5(0x187)]+'%',applyFilters();}),highlightsSlider[_0x2c3d36(0x223)](_0x103ea7(0x242),()=>{const _0x18098a=_0x2c3d36,_0x82cf3d=_0x103ea7;highlightsValueSpan[_0x82cf3d(0x1a2)]=highlightsSlider[_0x18098a(0x187)]+'%',applyFilters();}),claritySlider[_0x103ea7(0x198)](_0x103ea7(0x242),()=>{const _0x3f84b4=_0x2c3d36;clarityValueSpan[_0x3f84b4(0x173)]=claritySlider[_0x3f84b4(0x187)]+'%',applyFilters();}),topCaptionTextInput[_0x103ea7(0x198)](_0x103ea7(0x242),updateLivePreview),bottomCaptionTextInput[_0x103ea7(0x198)]('input',updateLivePreview),fontFamilySelect[_0x103ea7(0x198)](_0x103ea7(0x1ad),updateLivePreview),isBoldCheckbox[_0x2c3d36(0x223)](_0x103ea7(0x1ad),updateLivePreview),isItalicCheckbox[_0x103ea7(0x198)](_0x103ea7(0x1ad),updateLivePreview),backgroundColorPicker[_0x2c3d36(0x223)](_0x103ea7(0x242),()=>{const _0x5bc744=_0x103ea7;syncColorsCheckbox[_0x5bc744(0x1e3)]&&(borderColorPicker[_0x5bc744(0x1e5)]=backgroundColorPicker[_0x5bc744(0x1e5)]),updateLivePreview();}),borderColorPicker[_0x2c3d36(0x223)]('input',()=>{const _0x29f856=_0x103ea7;transparentBorderColorCheckbox[_0x29f856(0x1e3)]=![],updateLivePreview();}),transparentBackgroundColorCheckbox[_0x2c3d36(0x223)](_0x103ea7(0x1ad),()=>{const _0x3a0f0f=_0x2c3d36,_0x21e539=_0x103ea7;transparentBackgroundColorCheckbox[_0x3a0f0f(0x180)]&&(syncColorsCheckbox[_0x21e539(0x1e3)]=![]),updateLivePreview();}),transparentBorderColorCheckbox[_0x2c3d36(0x223)](_0x103ea7(0x1ad),()=>{const _0x45925b=_0x103ea7;transparentBorderColorCheckbox['checked']&&(syncColorsCheckbox[_0x45925b(0x1e3)]=![]),updateLivePreview();}),syncColorsCheckbox[_0x103ea7(0x198)](_0x103ea7(0x1ad),()=>{const _0x498447=_0x103ea7;syncColorsCheckbox[_0x498447(0x1e3)]&&(borderColorPicker[_0x498447(0x1e5)]=backgroundColorPicker[_0x498447(0x1e5)],transparentBorderColorCheckbox[_0x498447(0x1e3)]=transparentBackgroundColorCheckbox[_0x498447(0x1e3)]),updateLivePreview();}),topPatternSelector[_0x103ea7(0x198)](_0x103ea7(0x1c8),_0x5627a1=>{const _0x376eac=_0x2c3d36,_0x212d5b=_0x103ea7;_0x5627a1[_0x212d5b(0x195)][_0x212d5b(0x23d)]===_0x212d5b(0x253)&&(topPatternSelector[_0x212d5b(0x20d)](_0x376eac(0x200))[_0x212d5b(0x224)](_0x49ee04=>_0x49ee04[_0x212d5b(0x24d)][_0x212d5b(0x1ff)](_0x212d5b(0x237))),_0x5627a1[_0x212d5b(0x195)][_0x212d5b(0x24d)][_0x376eac(0x1c0)](_0x212d5b(0x237)),selectedTopPattern=_0x5627a1[_0x212d5b(0x195)][_0x212d5b(0x24f)][_0x212d5b(0x228)],updateLivePreview());}),bottomPatternSelector[_0x2c3d36(0x223)]('click',_0x4b6d49=>{const _0x29e17f=_0x2c3d36,_0xc21d08=_0x103ea7;_0x4b6d49['target'][_0xc21d08(0x23d)]===_0xc21d08(0x253)&&(bottomPatternSelector[_0xc21d08(0x20d)]('img')[_0xc21d08(0x224)](_0x4e5ec9=>_0x4e5ec9[_0xc21d08(0x24d)][_0xc21d08(0x1ff)](_0xc21d08(0x237))),_0x4b6d49['target'][_0x29e17f(0x1ed)][_0xc21d08(0x19e)](_0x29e17f(0x1db)),selectedBottomPattern=_0x4b6d49[_0x29e17f(0x241)][_0xc21d08(0x24f)][_0xc21d08(0x228)],updateLivePreview());}),overlayPatternSelector[_0x103ea7(0x198)](_0x2c3d36(0x157),_0x363163=>{const _0x3f3458=_0x2c3d36,_0x49eb25=_0x103ea7;_0x363163[_0x49eb25(0x195)][_0x49eb25(0x23d)]===_0x49eb25(0x253)&&(overlayPatternSelector[_0x49eb25(0x20d)](_0x49eb25(0x1d7))[_0x49eb25(0x224)](_0x2d84ab=>_0x2d84ab[_0x49eb25(0x24d)][_0x3f3458(0x1d4)](_0x49eb25(0x237))),_0x363163[_0x49eb25(0x195)][_0x49eb25(0x24d)][_0x49eb25(0x19e)](_0x3f3458(0x1db)),selectedOverlayPattern=_0x363163[_0x49eb25(0x195)][_0x49eb25(0x24f)][_0x49eb25(0x228)],updateLivePreview());}),applyDecorationsButton[_0x103ea7(0x198)](_0x2c3d36(0x157),applyDecorations),messageBoxClose[_0x103ea7(0x198)](_0x103ea7(0x1c8),hideMessageBox);
