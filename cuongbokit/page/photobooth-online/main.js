const _0xbd1d22=_0x93fd;(function(_0x9fe232,_0x5a07b8){const _0xa530a5=_0x93fd,_0x2ea26b=_0x9fe232();while(!![]){try{const _0x2ec4e8=parseInt(_0xa530a5(0x1b6))/0x1*(-parseInt(_0xa530a5(0x171))/0x2)+parseInt(_0xa530a5(0x1af))/0x3+-parseInt(_0xa530a5(0x146))/0x4*(parseInt(_0xa530a5(0x186))/0x5)+-parseInt(_0xa530a5(0x15f))/0x6+parseInt(_0xa530a5(0x13f))/0x7+-parseInt(_0xa530a5(0x111))/0x8+parseInt(_0xa530a5(0x103))/0x9;if(_0x2ec4e8===_0x5a07b8)break;else _0x2ea26b['push'](_0x2ea26b['shift']());}catch(_0x5ca860){_0x2ea26b['push'](_0x2ea26b['shift']());}}}(_0x1eaa,0x3be74));const _0x29230f=_0x1661;(function(_0x438ed9,_0x47247d){const _0x36e347=_0x93fd,_0x92e1b3=_0x1661,_0x4f457c=_0x438ed9();while(!![]){try{const _0x5549ab=parseInt(_0x92e1b3(0x18f))/0x1+-parseInt(_0x92e1b3(0x189))/0x2*(parseInt(_0x92e1b3(0x1cc))/0x3)+-parseInt(_0x92e1b3(0x20e))/0x4*(parseInt(_0x92e1b3(0x153))/0x5)+parseInt(_0x92e1b3(0x212))/0x6*(parseInt(_0x92e1b3(0x1fa))/0x7)+parseInt(_0x92e1b3(0x173))/0x8*(parseInt(_0x92e1b3(0x163))/0x9)+parseInt(_0x92e1b3(0x1dd))/0xa+parseInt(_0x92e1b3(0x15e))/0xb;if(_0x5549ab===_0x47247d)break;else _0x4f457c[_0x36e347(0x1b8)](_0x4f457c[_0x36e347(0x15d)]());}catch(_0x426b69){_0x4f457c[_0x36e347(0x1b8)](_0x4f457c['shift']());}}}(_0x3b35,0xd9538));const parts=['c','u','o','n','g','b','o','k','i','t'],subdomain=parts[_0xbd1d22(0x11e)](''),shortParts=['c','u','o','n','g','b','o','k'],pathParts=['/','2','0','2','5','/','0','6','/','p','h','o','t','o','b','o','o','t','h','-','o','n','l','i','n','e','-','w','i','t','h','-',...shortParts,'.','h','t','m','l'],hiddenPath=pathParts[_0x29230f(0x197)](''),redirectUrl=_0x29230f(0x12f)+subdomain+_0xbd1d22(0x164)+hiddenPath,hostname=location[_0x29230f(0x15b)],pathname=location[_0x29230f(0x17d)],href=location[_0x29230f(0x158)];!hostname[_0x29230f(0x144)](subdomain)&&!href[_0x29230f(0x144)](_0x29230f(0x1a2))?(console[_0x29230f(0x20b)](_0xbd1d22(0x18e)),window[_0x29230f(0x176)][_0x29230f(0x158)]=redirectUrl+_0x29230f(0x1e2)+hostname+_0x29230f(0x18d)+pathname):console[_0x29230f(0x20b)](_0x29230f(0x1a5));const videoFeed=document[_0x29230f(0x162)](_0x29230f(0x1d7)),captureButton=document[_0xbd1d22(0x1b4)](_0x29230f(0x133)),combineButton=document[_0x29230f(0x162)](_0x29230f(0x202)),retakeButton=document[_0x29230f(0x162)](_0x29230f(0x1d6)),saveButton=document[_0x29230f(0x162)](_0x29230f(0x20a)),printButton=document[_0x29230f(0x162)](_0x29230f(0x1c6)),layoutButtons=document[_0x29230f(0x131)](_0x29230f(0x13b)),thumbnailsContainer=document['getElementById'](_0x29230f(0x1b3)),currentPhotoCountSpan=document[_0xbd1d22(0x1b4)](_0xbd1d22(0x105)),totalPhotosNeededSpan=document[_0x29230f(0x162)](_0xbd1d22(0x122)),combinedCanvas=document[_0x29230f(0x162)](_0x29230f(0x1f4)),combinedCtx=combinedCanvas[_0x29230f(0x186)]('2d'),liveCombinedCanvas=document[_0x29230f(0x162)](_0x29230f(0x142)),liveCombinedCtx=liveCombinedCanvas[_0x29230f(0x186)]('2d'),liveCanvasWrapper=document[_0x29230f(0x195)](_0x29230f(0x1c7)),cameraStage=document[_0x29230f(0x162)](_0x29230f(0x191)),previewStage=document[_0x29230f(0x162)](_0x29230f(0x141)),loadingSpinner=document[_0x29230f(0x162)](_0x29230f(0x143)),countdownElement=document[_0x29230f(0x162)](_0x29230f(0x1e9)),backgroundColorPicker=document[_0x29230f(0x162)](_0xbd1d22(0x15c)),transparentBackgroundColorCheckbox=document[_0x29230f(0x162)](_0x29230f(0x1ca)),borderColorPicker=document[_0x29230f(0x162)](_0xbd1d22(0x136)),transparentBorderColorCheckbox=document[_0x29230f(0x162)](_0xbd1d22(0x123)),syncColorsCheckbox=document[_0xbd1d22(0x1b4)](_0x29230f(0x1b5)),borderWidthSlider=document[_0x29230f(0x162)](_0x29230f(0x221)),borderWidthValueSpan=document[_0x29230f(0x162)]('borderWidthValue'),imageGapSlider=document[_0x29230f(0x162)](_0x29230f(0x214)),imageGapValueSpan=document[_0x29230f(0x162)](_0xbd1d22(0x144)),bottomCaptionTextInput=document[_0x29230f(0x162)](_0x29230f(0x1c0)),topCaptionTextInput=document[_0x29230f(0x162)](_0x29230f(0x166)),fontColorPicker=document[_0x29230f(0x162)](_0x29230f(0x150)),fontSizeSlider=document[_0x29230f(0x162)](_0x29230f(0x1b4)),fontSizeValueSpan=document[_0x29230f(0x162)](_0x29230f(0x1ea)),applyDecorationsButton=document[_0x29230f(0x162)](_0x29230f(0x215)),fontFamilySelect=document[_0xbd1d22(0x1b4)](_0xbd1d22(0xff)),isBoldCheckbox=document[_0x29230f(0x162)]('isBold'),isItalicCheckbox=document[_0x29230f(0x162)](_0x29230f(0x1ab)),topPatternSelector=document[_0x29230f(0x162)](_0x29230f(0x134)),bottomPatternSelector=document[_0x29230f(0x162)](_0x29230f(0x199)),overlayPatternSelector=document[_0x29230f(0x162)](_0x29230f(0x21d));let selectedTopPattern='',selectedBottomPattern='',selectedOverlayPattern='';const contrastSlider=document[_0xbd1d22(0x1b4)](_0xbd1d22(0x19e)),contrastValueSpan=document[_0x29230f(0x162)](_0xbd1d22(0x155)),brightnessSlider=document[_0x29230f(0x162)](_0x29230f(0x1d2)),brightnessValueSpan=document[_0x29230f(0x162)](_0x29230f(0x168)),saturationSlider=document[_0x29230f(0x162)](_0x29230f(0x164)),saturationValueSpan=document[_0x29230f(0x162)](_0xbd1d22(0x166)),warmthSlider=document[_0x29230f(0x162)](_0x29230f(0x220)),warmthValueSpan=document[_0x29230f(0x162)](_0x29230f(0x15a)),grayscaleSlider=document[_0x29230f(0x162)](_0x29230f(0x14b)),grayscaleValueSpan=document['getElementById'](_0x29230f(0x18a)),sharpenSlider=document[_0x29230f(0x162)](_0x29230f(0x1be)),sharpenValueSpan=document['getElementById'](_0xbd1d22(0x157)),shadowsSlider=document[_0x29230f(0x162)](_0x29230f(0x1b0)),shadowsValueSpan=document[_0x29230f(0x162)](_0x29230f(0x1c1)),highlightsSlider=document[_0x29230f(0x162)](_0x29230f(0x1e4)),highlightsValueSpan=document[_0x29230f(0x162)](_0x29230f(0x192)),claritySlider=document[_0x29230f(0x162)](_0x29230f(0x15f)),clarityValueSpan=document[_0x29230f(0x162)](_0xbd1d22(0x154)),messageBox=document[_0x29230f(0x162)](_0x29230f(0x205)),messageText=document['getElementById'](_0x29230f(0x223)),messageBoxClose=document[_0x29230f(0x162)](_0x29230f(0x1a6));function _0x1661(_0x44a1b1,_0x2559a1){const _0x581673=_0x3b35();return _0x1661=function(_0xdc7b31,_0x41da1f){_0xdc7b31=_0xdc7b31-0x12d;let _0x136707=_0x581673[_0xdc7b31];return _0x136707;},_0x1661(_0x44a1b1,_0x2559a1);}let stream,capturedPhotos=[],selectedLayout=0x4,photoWidth=0x280,photoHeight=0x1e0,originalCombinedImage=null,animationFrameId;const topPatternList=[{'id':_0x29230f(0x1bd),'name':_0xbd1d22(0x1a3),'thumbnail':_0x29230f(0x17c),'src':''},{'id':_0x29230f(0x183),'name':_0x29230f(0x1de),'thumbnail':_0x29230f(0x1f2),'src':_0x29230f(0x1fe)},{'id':_0x29230f(0x1c2),'name':_0x29230f(0x1a7),'thumbnail':_0x29230f(0x1e0),'src':_0x29230f(0x178)},{'id':_0x29230f(0x1bf),'name':_0x29230f(0x1ec),'thumbnail':_0x29230f(0x140),'src':_0x29230f(0x1df)},{'id':_0xbd1d22(0x1a4),'name':_0x29230f(0x18b),'thumbnail':_0x29230f(0x1fc),'src':_0x29230f(0x174)}],bottomPatternList=[{'id':_0x29230f(0x1bd),'name':_0x29230f(0x1cb),'thumbnail':_0xbd1d22(0x10c),'src':''},{'id':_0xbd1d22(0x1a7),'name':_0x29230f(0x177),'thumbnail':_0xbd1d22(0x199),'src':_0x29230f(0x1b7)},{'id':_0x29230f(0x171),'name':_0x29230f(0x17a),'thumbnail':_0x29230f(0x193),'src':_0x29230f(0x1d5)},{'id':_0xbd1d22(0x183),'name':_0x29230f(0x19a),'thumbnail':_0x29230f(0x15c),'src':_0x29230f(0x200)},{'id':_0x29230f(0x1e7),'name':_0x29230f(0x1f8),'thumbnail':_0x29230f(0x14e),'src':_0x29230f(0x149)}],overlayPatternList=[{'id':_0x29230f(0x1bd),'name':_0x29230f(0x1cb),'thumbnail':_0x29230f(0x17c),'src':''},{'id':_0x29230f(0x145),'name':_0x29230f(0x1af),'thumbnail':'https://placehold.co/120x60/d3d3d3/000000?text=O1','src':'https://placehold.co/1200x800/d3d3d3/000000?text=Overlay1'},{'id':_0x29230f(0x1f7),'name':'Lớp\x20phủ\x202','thumbnail':_0x29230f(0x152),'src':_0xbd1d22(0xd2)},{'id':_0x29230f(0x1bb),'name':_0x29230f(0x1d8),'thumbnail':_0x29230f(0x1ae),'src':_0x29230f(0x136)}];function _0x93fd(_0x27fb6c,_0x1162a4){const _0x1eaa9f=_0x1eaa();return _0x93fd=function(_0x93fd8b,_0x3f9273){_0x93fd8b=_0x93fd8b-0xca;let _0x1b3e1c=_0x1eaa9f[_0x93fd8b];return _0x1b3e1c;},_0x93fd(_0x27fb6c,_0x1162a4);}function showMessageBox(_0x5a4120){const _0x2c4360=_0xbd1d22,_0x3a6190=_0x29230f;messageText[_0x3a6190(0x18c)]=_0x5a4120,messageBox[_0x2c4360(0x165)][_0x2c4360(0x11c)](_0x3a6190(0x1aa));}function hideMessageBox(){const _0x1da593=_0xbd1d22,_0x30ad75=_0x29230f;messageBox['classList'][_0x1da593(0x109)](_0x30ad75(0x1aa));}function showLoading(){const _0x1b4844=_0x29230f;loadingSpinner[_0x1b4844(0x12e)][_0x1b4844(0x225)]=_0x1b4844(0x172);}function hideLoading(){const _0xc4f44=_0xbd1d22,_0x20e3b6=_0x29230f;loadingSpinner[_0xc4f44(0x18a)][_0x20e3b6(0x225)]=_0x20e3b6(0x1bd);}function switchStage(_0x2c203a){const _0x411755=_0xbd1d22,_0x2b9e58=_0x29230f;cameraStage[_0x2b9e58(0x201)][_0x411755(0x11c)](_0x2b9e58(0x1a3)),previewStage[_0x2b9e58(0x201)][_0x2b9e58(0x213)](_0x2b9e58(0x1a3)),_0x2c203a[_0x2b9e58(0x201)][_0x2b9e58(0x1a8)](_0x2b9e58(0x1a3)),_0x2c203a===previewStage&&(combinedCanvas[_0x2b9e58(0x12e)][_0x2b9e58(0x225)]=_0x2b9e58(0x172));}function updatePhotoCountDisplay(){const _0x50100a=_0xbd1d22,_0x5284b5=_0x29230f;currentPhotoCountSpan[_0x5284b5(0x18c)]=capturedPhotos[_0x5284b5(0x18e)],totalPhotosNeededSpan[_0x5284b5(0x18c)]=selectedLayout,capturedPhotos[_0x50100a(0x190)]===selectedLayout?(captureButton[_0x50100a(0x13b)]=!![],captureButton[_0x50100a(0x1b0)]=_0x5284b5(0x1f6),combineButton[_0x50100a(0x165)][_0x5284b5(0x213)](_0x50100a(0x10a))):(captureButton[_0x5284b5(0x15d)]=![],captureButton[_0x5284b5(0x180)]=_0x5284b5(0x1e6)+capturedPhotos[_0x50100a(0x190)]+_0x5284b5(0x19b)+selectedLayout+_0x5284b5(0x1d4),combineButton[_0x50100a(0x165)][_0x5284b5(0x1a8)](_0x5284b5(0x1aa)));}function displayThumbnail(_0x155009){const _0x4eac7e=_0xbd1d22,_0x5e8e1c=_0x29230f,_0x2d7e28=document[_0x4eac7e(0xca)](_0x5e8e1c(0x1b9));_0x2d7e28[_0x5e8e1c(0x12d)]=_0x155009[_0x5e8e1c(0x12d)],_0x2d7e28[_0x5e8e1c(0x1f5)]=_0x5e8e1c(0x1c8)+capturedPhotos['length'],_0x2d7e28[_0x5e8e1c(0x201)]['add']('w-full',_0x5e8e1c(0x139),_0x5e8e1c(0x185),_0x5e8e1c(0x1a9)),_0x2d7e28[_0x5e8e1c(0x12e)][_0x5e8e1c(0x21c)]='4\x20/\x203';const _0x5e252a=document[_0x5e8e1c(0x1c3)](_0x5e8e1c(0x1b1));_0x5e252a[_0x5e8e1c(0x201)][_0x5e8e1c(0x1a8)]('thumbnail-container'),_0x5e252a[_0x5e8e1c(0x1e8)](_0x2d7e28),thumbnailsContainer[_0x5e8e1c(0x1e8)](_0x5e252a);}async function startCamera(){const _0x4b20aa=_0xbd1d22,_0x4b064c=_0x29230f;showLoading();try{stream=await navigator[_0x4b064c(0x16b)][_0x4b20aa(0xdb)]({'video':{'width':{'ideal':photoWidth},'height':{'ideal':photoHeight},'aspectRatio':0x4/0x3},'audio':![]}),videoFeed[_0x4b064c(0x1eb)]=stream,videoFeed[_0x4b064c(0x13a)]=()=>{hideLoading(),videoFeed['play'](),startLivePreviewLoop();};}catch(_0x3d5987){console[_0x4b064c(0x1d9)](_0x4b064c(0x175),_0x3d5987),hideLoading(),showMessageBox('Không\x20thể\x20truy\x20cập\x20camera.\x20Vui\x20lòng\x20cấp\x20quyền\x20truy\x20cập.');}}function stopCamera(){const _0x4d057b=_0x29230f;stream&&(stream['getTracks']()[_0x4d057b(0x1ff)](_0x3d5591=>_0x3d5591[_0x4d057b(0x1dc)]()),videoFeed[_0x4d057b(0x1eb)]=null),cancelAnimationFrame(animationFrameId);}function startCountdown(_0x1ae4cd){return new Promise(_0x1710a0=>{const _0x4c40fb=_0x93fd,_0x8797bd=_0x1661;let _0x3e4344=_0x1ae4cd;countdownElement[_0x8797bd(0x18c)]=_0x3e4344,countdownElement[_0x4c40fb(0x165)][_0x8797bd(0x213)](_0x8797bd(0x14c)),countdownElement[_0x8797bd(0x201)]['add'](_0x8797bd(0x13d));const _0x3f8143=setInterval(()=>{const _0x359c09=_0x4c40fb,_0x345477=_0x8797bd;_0x3e4344--,_0x3e4344>0x0?countdownElement[_0x345477(0x18c)]=_0x3e4344:(clearInterval(_0x3f8143),countdownElement[_0x359c09(0x1b0)]='',countdownElement[_0x359c09(0x165)][_0x345477(0x213)](_0x345477(0x13d)),countdownElement[_0x345477(0x201)][_0x345477(0x1a8)](_0x345477(0x14c)),_0x1710a0());},0x3e8);});}async function capturePhoto(){const _0x29775c=_0xbd1d22,_0x5b6392=_0x29230f;if(capturedPhotos[_0x5b6392(0x18e)]>=selectedLayout){showMessageBox('Bạn\x20đã\x20chụp\x20đủ\x20'+selectedLayout+_0x5b6392(0x211));return;}captureButton[_0x5b6392(0x15d)]=!![],cancelAnimationFrame(animationFrameId),await startCountdown(0x3);const _0x5c01ae=document[_0x5b6392(0x1c3)](_0x5b6392(0x1e5)),_0x527250=_0x5c01ae[_0x29775c(0xce)]('2d');_0x5c01ae[_0x5b6392(0x130)]=photoWidth,_0x5c01ae[_0x5b6392(0x1b2)]=photoHeight,_0x527250[_0x5b6392(0x1da)](_0x5c01ae[_0x5b6392(0x130)],0x0),_0x527250[_0x5b6392(0x184)](-0x1,0x1),_0x527250[_0x5b6392(0x1d3)](videoFeed,0x0,0x0,_0x5c01ae[_0x5b6392(0x130)],_0x5c01ae[_0x5b6392(0x1b2)]);const _0xcf3c87=_0x5c01ae[_0x5b6392(0x1ba)]('image/jpeg',0.9),_0x456d18=new Image();_0x456d18[_0x5b6392(0x170)]=()=>{const _0x218ef8=_0x29775c,_0x1bd9a8=_0x5b6392;capturedPhotos[_0x1bd9a8(0x19d)](_0x456d18),displayThumbnail(_0x456d18),updatePhotoCountDisplay(),startLivePreviewLoop(),captureButton[_0x218ef8(0x13b)]=![];},_0x456d18[_0x5b6392(0x12d)]=_0xcf3c87;}function calculateLayoutDimensions(_0x12ffee,_0xbcf313,_0x435ebb,_0x3db712){const _0x49f28d=_0x29230f;let _0x1be238,_0x375fe2,_0x599a8a,_0x598906;switch(_0x12ffee){case 0x3:_0x1be238=0x3,_0x375fe2=0x1,_0x599a8a=_0xbcf313+_0x3db712*0x2,_0x598906=_0x435ebb*0x3+_0x3db712*0x4;break;case 0x4:_0x1be238=0x4,_0x375fe2=0x1,_0x599a8a=_0xbcf313+_0x3db712*0x2,_0x598906=_0x435ebb*0x4+_0x3db712*0x5;break;case 0x6:_0x1be238=0x3,_0x375fe2=0x2,_0x599a8a=_0xbcf313*0x2+_0x3db712*0x3,_0x598906=_0x435ebb*0x3+_0x3db712*0x4;break;case 0x8:_0x1be238=0x4,_0x375fe2=0x2,_0x599a8a=_0xbcf313*0x2+_0x3db712*0x3,_0x598906=_0x435ebb*0x4+_0x3db712*0x5;break;default:console[_0x49f28d(0x182)]('Bố\x20cục\x20không\x20hợp\x20lệ.\x20Mặc\x20định\x204\x20ảnh.'),_0x1be238=0x4,_0x375fe2=0x1,_0x599a8a=_0xbcf313+_0x3db712*0x2,_0x598906=_0x435ebb*0x4+_0x3db712*0x5;break;}return{'photoGridContentWidth':_0x599a8a,'photoGridContentHeight':_0x598906,'photoRows':_0x1be238,'photoCols':_0x375fe2};}function applySharpen(_0x362747,_0x3e3423,_0xfe80c5,_0x1f0600,_0x16c2e1,_0x2fc29e){const _0x160bf4=_0xbd1d22,_0x465edf=_0x29230f;if(_0x2fc29e===0x0)return;const _0x331cac=_0x362747[_0x465edf(0x208)](_0x3e3423,_0xfe80c5,_0x1f0600,_0x16c2e1),_0x26f7e3=_0x331cac[_0x465edf(0x16a)],_0x5cb96a=_0x2fc29e/0x64*0.5,_0x24c944=[0x0,-0x1,0x0,-0x1,0x5,-0x1,0x0,-0x1,0x0],_0x2093fb=new Uint8ClampedArray(_0x26f7e3[_0x465edf(0x18e)]);for(let _0x1e20c5=0x0;_0x1e20c5<_0x26f7e3[_0x465edf(0x18e)];_0x1e20c5+=0x4){const _0x84c620=Math[_0x465edf(0x1ef)](_0x1e20c5/0x4/_0x1f0600),_0x356648=_0x1e20c5/0x4%_0x1f0600;let _0x4409f6=0x0,_0x43ed19=0x0,_0x1d7269=0x0;for(let _0xd73b64=0x0;_0xd73b64<0x9;_0xd73b64++){const _0x5a80fc=_0x24c944[_0xd73b64],_0x44e176=_0xd73b64%0x3-0x1,_0x500574=Math[_0x465edf(0x1ef)](_0xd73b64/0x3)-0x1,_0x38340d=_0x356648+_0x44e176,_0xf57092=_0x84c620+_0x500574;if(_0x38340d>=0x0&&_0x38340d<_0x1f0600&&_0xf57092>=0x0&&_0xf57092<_0x16c2e1){const _0xd23dfd=(_0xf57092*_0x1f0600+_0x38340d)*0x4;_0x4409f6+=_0x26f7e3[_0xd23dfd],_0x43ed19+=_0x26f7e3[_0xd23dfd+0x1],_0x1d7269+=_0x26f7e3[_0xd23dfd+0x2],count++;}}_0x2093fb[_0x1e20c5]=Math[_0x465edf(0x1a4)](0xff,Math[_0x465edf(0x1bc)](0x0,_0x26f7e3[_0x1e20c5]+(_0x4409f6-_0x26f7e3[_0x1e20c5])*_0x5cb96a)),_0x2093fb[_0x1e20c5+0x1]=Math[_0x465edf(0x1a4)](0xff,Math['max'](0x0,_0x26f7e3[_0x1e20c5+0x1]+(_0x43ed19-_0x26f7e3[_0x1e20c5+0x1])*_0x5cb96a)),_0x2093fb[_0x1e20c5+0x2]=Math[_0x160bf4(0xd4)](0xff,Math[_0x465edf(0x1bc)](0x0,_0x26f7e3[_0x1e20c5+0x2]+(_0x1d7269-_0x26f7e3[_0x1e20c5+0x2])*_0x5cb96a)),_0x2093fb[_0x1e20c5+0x3]=_0x26f7e3[_0x1e20c5+0x3];}_0x331cac[_0x465edf(0x16a)][_0x465edf(0x204)](_0x2093fb),_0x362747[_0x465edf(0x1f9)](_0x331cac,_0x3e3423,_0xfe80c5);}function applyShadows(_0x4b7338,_0x329204,_0x3f1465,_0x2058b5,_0x31e4b0,_0x485f4c){const _0x1045b1=_0x29230f;if(_0x485f4c===0x0)return;const _0x1b9d89=_0x4b7338[_0x1045b1(0x208)](_0x329204,_0x3f1465,_0x2058b5,_0x31e4b0),_0x306adb=_0x1b9d89[_0x1045b1(0x16a)],_0xfc85e6=_0x485f4c/0x64*0.5;for(let _0x435ff9=0x0;_0x435ff9<_0x306adb['length'];_0x435ff9+=0x4){const _0x3e6981=(_0x306adb[_0x435ff9]+_0x306adb[_0x435ff9+0x1]+_0x306adb[_0x435ff9+0x2])/0x3;_0x3e6981<0x80&&(_0x306adb[_0x435ff9]=_0x306adb[_0x435ff9]*(0x1+_0xfc85e6),_0x306adb[_0x435ff9+0x1]=_0x306adb[_0x435ff9+0x1]*(0x1+_0xfc85e6),_0x306adb[_0x435ff9+0x2]=_0x306adb[_0x435ff9+0x2]*(0x1+_0xfc85e6));}_0x4b7338[_0x1045b1(0x1f9)](_0x1b9d89,_0x329204,_0x3f1465);}function applyHighlights(_0x3f8903,_0x2dc429,_0x5f5cd3,_0x8833e3,_0x4f72c8,_0x22a5ce){const _0x511ac7=_0x29230f;if(_0x22a5ce===0x0)return;const _0x3f9950=_0x3f8903[_0x511ac7(0x208)](_0x2dc429,_0x5f5cd3,_0x8833e3,_0x4f72c8),_0x3e8f28=_0x3f9950['data'],_0x203114=_0x22a5ce/0x64*0.5;for(let _0x264a18=0x0;_0x264a18<_0x3e8f28[_0x511ac7(0x18e)];_0x264a18+=0x4){const _0x465d17=(_0x3e8f28[_0x264a18]+_0x3e8f28[_0x264a18+0x1]+_0x3e8f28[_0x264a18+0x2])/0x3;_0x465d17>=0x80&&(_0x3e8f28[_0x264a18]=_0x3e8f28[_0x264a18]*(0x1+_0x203114),_0x3e8f28[_0x264a18+0x1]=_0x3e8f28[_0x264a18+0x1]*(0x1+_0x203114),_0x3e8f28[_0x264a18+0x2]=_0x3e8f28[_0x264a18+0x2]*(0x1+_0x203114));}_0x3f8903[_0x511ac7(0x1f9)](_0x3f9950,_0x2dc429,_0x5f5cd3);}function applyClarity(_0xf77c1,_0x1a3156,_0x454c88,_0x574321,_0x37152b,_0x189dd2){const _0xf97557=_0x29230f;if(_0x189dd2===0x0)return;const _0xd77d6b=_0xf77c1[_0xf97557(0x208)](_0x1a3156,_0x454c88,_0x574321,_0x37152b),_0x567d58=_0xd77d6b[_0xf97557(0x16a)],_0x668934=_0x189dd2/0x64*0.2;for(let _0x1e2e44=0x0;_0x1e2e44<_0x567d58[_0xf97557(0x18e)];_0x1e2e44+=0x4){const _0x528b10=_0x567d58[_0x1e2e44],_0x25ec0a=_0x567d58[_0x1e2e44+0x1],_0x2a36fc=_0x567d58[_0x1e2e44+0x2];_0x567d58[_0x1e2e44]=_0x528b10+(_0x528b10-0x80)*_0x668934,_0x567d58[_0x1e2e44+0x1]=_0x25ec0a+(_0x25ec0a-0x80)*_0x668934,_0x567d58[_0x1e2e44+0x2]=_0x2a36fc+(_0x2a36fc-0x80)*_0x668934,_0x567d58[_0x1e2e44]=Math[_0xf97557(0x1a4)](0xff,Math[_0xf97557(0x1bc)](0x0,_0x567d58[_0x1e2e44])),_0x567d58[_0x1e2e44+0x1]=Math['min'](0xff,Math[_0xf97557(0x1bc)](0x0,_0x567d58[_0x1e2e44+0x1])),_0x567d58[_0x1e2e44+0x2]=Math[_0xf97557(0x1a4)](0xff,Math[_0xf97557(0x1bc)](0x0,_0x567d58[_0x1e2e44+0x2]));}_0xf77c1[_0xf97557(0x1f9)](_0xd77d6b,_0x1a3156,_0x454c88);}async function drawCombinedImage(_0x33e1e5,_0x32cc9c,_0x51dea5,_0x1e4dec,_0x1289c5={},_0x51f9e5=![],_0xa98d02={}){const _0x38e802=_0xbd1d22,_0x1dd8c1=_0x29230f,_0x3c9cb7=photoWidth,_0x4add43=photoHeight,_0xe3fee3=_0x51f9e5?0x5:_0x1289c5[_0x1dd8c1(0x221)]||0x0,_0xa8b17f=_0x51f9e5?0x5:_0x1289c5[_0x1dd8c1(0x20c)]||0xa,_0x26e9bb=_0x51f9e5?0x1e:0x3c,_0x625051=0xa,{photoGridContentWidth:_0x27e47a,photoGridContentHeight:_0x14aac2,photoRows:_0x3763cf,photoCols:_0xe6d303}=calculateLayoutDimensions(_0x32cc9c,_0x3c9cb7,_0x4add43,_0xa8b17f);let _0x2a5230=0x0;_0x1289c5[_0x1dd8c1(0x166)]&&!_0x51f9e5&&(_0x2a5230=_0x1289c5[_0x1dd8c1(0x1b4)]*1.5+_0x625051*0x2);let _0x5a3be5=0x0;_0x1289c5[_0x1dd8c1(0x1c0)]&&!_0x51f9e5&&(_0x5a3be5=_0x1289c5[_0x1dd8c1(0x1b4)]*1.5+_0x625051*0x2);let _0x4c1aca=_0x1289c5[_0x38e802(0x1a6)]?_0x26e9bb:0x0,_0x4da372=_0x1289c5[_0x1dd8c1(0x194)]?_0x26e9bb:0x0;const _0x5dd0bf=_0x27e47a+_0xe3fee3*0x2,_0xc77462=_0x14aac2+_0xe3fee3*0x2+_0x4c1aca+_0x2a5230+_0x5a3be5+_0x4da372;if(_0x51f9e5){const _0x45cebe=0x258,_0x3adce0=_0xc77462/_0x5dd0bf;_0x1e4dec['width']=_0x45cebe,_0x1e4dec[_0x1dd8c1(0x1b2)]=_0x45cebe*_0x3adce0,_0x51dea5[_0x1dd8c1(0x181)](),_0x51dea5[_0x1dd8c1(0x184)](_0x1e4dec[_0x1dd8c1(0x130)]/_0x5dd0bf,_0x1e4dec[_0x1dd8c1(0x1b2)]/_0xc77462);}else _0x1e4dec[_0x1dd8c1(0x130)]=_0x5dd0bf,_0x1e4dec[_0x1dd8c1(0x1b2)]=_0xc77462;_0x51dea5[_0x1dd8c1(0x19e)](0x0,0x0,_0x1e4dec[_0x38e802(0x120)],_0x1e4dec[_0x1dd8c1(0x1b2)]),_0x51dea5[_0x1dd8c1(0x154)]=_0x1289c5[_0x1dd8c1(0x147)]||_0x38e802(0x1ad),_0x51dea5[_0x1dd8c1(0x16e)](0x0,0x0,_0x5dd0bf,_0xc77462),_0xe3fee3>0x0&&(_0x51dea5[_0x38e802(0x11f)]=_0x1289c5[_0x1dd8c1(0x226)]||_0x1dd8c1(0x13f),_0x51dea5[_0x1dd8c1(0x179)]=_0xe3fee3,_0x51dea5[_0x38e802(0x121)](0x0,0x0,_0x5dd0bf,_0xc77462));let _0x4e00dc=_0xe3fee3;if(_0x1289c5[_0x1dd8c1(0x207)]){const _0x56ee07=new Image();_0x56ee07[_0x1dd8c1(0x17e)]=_0x1dd8c1(0x159),_0x56ee07[_0x1dd8c1(0x12d)]=_0x1289c5[_0x1dd8c1(0x207)];try{await new Promise((_0x1b10b3,_0x2f61a1)=>{const _0x12a41b=_0x38e802,_0x202433=_0x1dd8c1;_0x56ee07[_0x202433(0x170)]=_0x1b10b3,_0x56ee07[_0x12a41b(0x14d)]=_0x2f61a1;}),_0x51dea5[_0x1dd8c1(0x1d3)](_0x56ee07,_0xe3fee3,_0x4e00dc,_0x5dd0bf-_0xe3fee3*0x2,_0x4c1aca);}catch(_0x511254){console[_0x1dd8c1(0x1d9)](_0x1dd8c1(0x155),_0x511254);}_0x4e00dc+=_0x4c1aca;}if(_0x1289c5[_0x1dd8c1(0x166)]&&!_0x51f9e5){const _0x3a0fbb=_0x1289c5[_0x1dd8c1(0x1ab)]?_0x1dd8c1(0x138):'',_0x4725e4=_0x1289c5[_0x1dd8c1(0x13e)]?_0x1dd8c1(0x20f):'';_0x51dea5[_0x38e802(0x100)]=_0x1289c5[_0x1dd8c1(0x150)]||_0x1dd8c1(0x14d),_0x51dea5[_0x1dd8c1(0x157)]=''+_0x3a0fbb+_0x4725e4+(_0x1289c5[_0x38e802(0xda)]||0x1e)+_0x38e802(0xea)+(_0x1289c5[_0x1dd8c1(0x203)]||_0x38e802(0x108)),_0x51dea5[_0x1dd8c1(0x151)]=_0x1dd8c1(0x16c),_0x51dea5[_0x1dd8c1(0x196)]='middle';const _0x51ef83=_0x5dd0bf/0x2,_0x29e444=_0x4e00dc+_0x2a5230/0x2;_0x51dea5[_0x1dd8c1(0x1f3)](_0x1289c5[_0x1dd8c1(0x166)],_0x51ef83,_0x29e444),_0x4e00dc+=_0x2a5230;}const _0x321563=_0x3c9cb7,_0x34dcfe=_0x4add43;for(let _0x271697=0x0;_0x271697<selectedLayout;_0x271697++){const _0x2045ef=Math[_0x1dd8c1(0x1ef)](_0x271697/_0xe6d303),_0x5a9de2=_0x271697%_0xe6d303,_0x560d38=_0xe3fee3+_0xa8b17f+_0x5a9de2*(_0x321563+_0xa8b17f),_0x1b529f=_0x4e00dc+_0xa8b17f+_0x2045ef*(_0x34dcfe+_0xa8b17f);if(_0x271697<_0x33e1e5[_0x1dd8c1(0x18e)]){const _0x2bb3ab=_0x33e1e5[_0x271697];if(!_0x51f9e5){const _0x565e58=document[_0x38e802(0xca)]('canvas');_0x565e58[_0x1dd8c1(0x130)]=_0x321563,_0x565e58[_0x1dd8c1(0x1b2)]=_0x34dcfe;const _0x3d5253=_0x565e58[_0x38e802(0xce)]('2d');_0x3d5253[_0x1dd8c1(0x1e3)]=_0x38e802(0x116)+(_0xa98d02[_0x1dd8c1(0x21b)]||0x64)+_0x1dd8c1(0x1e1)+(_0xa98d02[_0x1dd8c1(0x1d2)]||0x64)+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20grayscale('+(_0xa98d02[_0x1dd8c1(0x14b)]||0x0)+_0x1dd8c1(0x160)+(_0xa98d02['saturation']||0x64)+_0x1dd8c1(0x209)+(_0xa98d02[_0x1dd8c1(0x220)]?_0xa98d02[_0x38e802(0xf9)]*0.5:0x0)+_0x1dd8c1(0x20d),_0x3d5253[_0x1dd8c1(0x1d3)](_0x2bb3ab,0x0,0x0,_0x321563,_0x34dcfe),_0xa98d02[_0x1dd8c1(0x1be)]>0x0&&applySharpen(_0x3d5253,0x0,0x0,_0x321563,_0x34dcfe,_0xa98d02[_0x1dd8c1(0x1be)]),_0xa98d02[_0x1dd8c1(0x1b0)]!==0x0&&applyShadows(_0x3d5253,0x0,0x0,_0x321563,_0x34dcfe,_0xa98d02[_0x1dd8c1(0x1b0)]),_0xa98d02['highlights']!==0x0&&applyHighlights(_0x3d5253,0x0,0x0,_0x321563,_0x34dcfe,_0xa98d02[_0x38e802(0x133)]),_0xa98d02[_0x1dd8c1(0x15f)]>0x0&&applyClarity(_0x3d5253,0x0,0x0,_0x321563,_0x34dcfe,_0xa98d02[_0x1dd8c1(0x15f)]),_0x51dea5[_0x1dd8c1(0x1d3)](_0x565e58,_0x560d38,_0x1b529f,_0x321563,_0x34dcfe);}else _0x51dea5[_0x38e802(0xcc)](_0x2bb3ab,_0x560d38,_0x1b529f,_0x321563,_0x34dcfe);}else _0x271697===_0x33e1e5[_0x1dd8c1(0x18e)]&&_0x51f9e5&&videoFeed[_0x1dd8c1(0x198)]>=0x2?(_0x51dea5[_0x1dd8c1(0x181)](),_0x51dea5[_0x38e802(0x102)](_0x560d38+_0x321563,_0x1b529f),_0x51dea5[_0x1dd8c1(0x184)](-0x1,0x1),_0x51dea5[_0x1dd8c1(0x1d3)](videoFeed,0x0,0x0,_0x321563,_0x34dcfe),_0x51dea5[_0x1dd8c1(0x21a)]()):(_0x51dea5[_0x1dd8c1(0x154)]='#e0e0e0',_0x51dea5[_0x1dd8c1(0x16e)](_0x560d38,_0x1b529f,_0x321563,_0x34dcfe),_0x51dea5['strokeStyle']=_0x1dd8c1(0x13f),_0x51dea5[_0x1dd8c1(0x179)]=0x2,_0x51dea5[_0x1dd8c1(0x156)](_0x560d38,_0x1b529f,_0x321563,_0x34dcfe),_0x51dea5[_0x1dd8c1(0x154)]=_0x1dd8c1(0x16d),_0x51dea5[_0x1dd8c1(0x157)]=_0x1dd8c1(0x167),_0x51dea5[_0x1dd8c1(0x151)]=_0x1dd8c1(0x16c),_0x51dea5[_0x1dd8c1(0x196)]=_0x1dd8c1(0x16f),_0x51dea5[_0x1dd8c1(0x1f3)](_0x1dd8c1(0x132)+(_0x271697+0x1),_0x560d38+_0x321563/0x2,_0x1b529f+_0x34dcfe/0x2));}_0x4e00dc+=_0x14aac2;if(_0x1289c5[_0x1dd8c1(0x1c0)]&&!_0x51f9e5){const _0x443a70=_0x1289c5[_0x38e802(0x167)]?_0x1dd8c1(0x138):'',_0x5522fb=_0x1289c5[_0x1dd8c1(0x13e)]?_0x1dd8c1(0x20f):'';_0x51dea5[_0x1dd8c1(0x154)]=_0x1289c5[_0x1dd8c1(0x150)]||_0x1dd8c1(0x14d),_0x51dea5[_0x1dd8c1(0x157)]=''+_0x443a70+_0x5522fb+(_0x1289c5[_0x38e802(0xda)]||0x1e)+_0x1dd8c1(0x1ce)+(_0x1289c5[_0x1dd8c1(0x203)]||_0x1dd8c1(0x165)),_0x51dea5[_0x1dd8c1(0x151)]=_0x1dd8c1(0x16c),_0x51dea5[_0x1dd8c1(0x196)]=_0x38e802(0xed);const _0xd0ee03=_0x5dd0bf/0x2,_0x243a87=_0x4e00dc+_0x5a3be5/0x2;_0x51dea5[_0x1dd8c1(0x1f3)](_0x1289c5[_0x1dd8c1(0x1c0)],_0xd0ee03,_0x243a87),_0x4e00dc+=_0x5a3be5;}if(_0x1289c5[_0x1dd8c1(0x194)]){const _0x4ce93a=new Image();_0x4ce93a[_0x1dd8c1(0x17e)]=_0x1dd8c1(0x159),_0x4ce93a[_0x1dd8c1(0x12d)]=_0x1289c5[_0x1dd8c1(0x194)];try{await new Promise((_0x264789,_0x1b4dfd)=>{const _0x3c92c3=_0x38e802,_0xb7d24f=_0x1dd8c1;_0x4ce93a[_0x3c92c3(0x10d)]=_0x264789,_0x4ce93a[_0xb7d24f(0x188)]=_0x1b4dfd;}),_0x51dea5['drawImage'](_0x4ce93a,_0xe3fee3,_0x4e00dc,_0x5dd0bf-_0xe3fee3*0x2,_0x4da372);}catch(_0xbaa10d){console[_0x1dd8c1(0x1d9)](_0x1dd8c1(0x1db),_0xbaa10d);}_0x4e00dc+=_0x4da372;}if(_0x1289c5[_0x1dd8c1(0x1d0)]){const _0x472d1a=new Image();_0x472d1a[_0x1dd8c1(0x17e)]=_0x38e802(0x14c),_0x472d1a[_0x1dd8c1(0x12d)]=_0x1289c5[_0x1dd8c1(0x1d0)];try{await new Promise((_0x4db8c3,_0x30c837)=>{const _0x24a6eb=_0x38e802,_0x4c046a=_0x1dd8c1;_0x472d1a[_0x24a6eb(0x10d)]=_0x4db8c3,_0x472d1a[_0x4c046a(0x188)]=_0x30c837;}),_0x51dea5[_0x1dd8c1(0x181)](),_0x51dea5['globalAlpha']=0.2,_0x51dea5[_0x38e802(0xcc)](_0x472d1a,_0xe3fee3,_0xe3fee3,_0x5dd0bf-_0xe3fee3*0x2,_0xc77462-_0xe3fee3*0x2),_0x51dea5[_0x1dd8c1(0x21a)]();}catch(_0x245707){console[_0x1dd8c1(0x1d9)](_0x38e802(0xcf),_0x245707);}}_0x51f9e5&&_0x51dea5[_0x1dd8c1(0x21a)](),!_0x51f9e5&&(originalCombinedImage=new Image(),originalCombinedImage[_0x38e802(0x156)]=combinedCanvas[_0x1dd8c1(0x1ba)](_0x1dd8c1(0x224),0x1));}function startLivePreviewLoop(){function _0x7412ff(){updateLivePreview(),animationFrameId=requestAnimationFrame(_0x7412ff);}_0x7412ff();}function updateLivePreview(){const _0x10c0b2=_0xbd1d22,_0x57e2c1=_0x29230f,_0x1a00e8=getCurrentDecorationsForLivePreview(),_0x35121a=photoWidth,_0x318b6c=photoHeight,_0x560fdd=0x5,_0x3e4692=parseInt(imageGapSlider[_0x57e2c1(0x190)],0xa),_0x2d042e=0x1e,_0x179177=0xa,{photoGridContentWidth:_0x42febd,photoGridContentHeight:_0x4a6cac,photoRows:_0x28bfca,photoCols:_0x578785}=calculateLayoutDimensions(selectedLayout,_0x35121a,_0x318b6c,_0x3e4692);let _0x1926f3=_0x1a00e8[_0x10c0b2(0x174)]?_0x1a00e8[_0x10c0b2(0xda)]*1.5+_0x179177*0x2:0x0,_0x32e5f9=_0x1a00e8[_0x10c0b2(0xe5)]?_0x1a00e8[_0x10c0b2(0xda)]*1.5+_0x179177*0x2:0x0,_0x276bca=_0x1a00e8[_0x57e2c1(0x207)]?_0x2d042e:0x0,_0x3ae7c1=_0x1a00e8[_0x57e2c1(0x194)]?_0x2d042e:0x0;const _0x228ad1=_0x42febd+_0x560fdd*0x2,_0x5c937d=_0x4a6cac+_0x560fdd*0x2+_0x276bca+_0x1926f3+_0x32e5f9+_0x3ae7c1;if(liveCanvasWrapper){const _0x23c85d=_0x5c937d/_0x228ad1*0x64;liveCanvasWrapper[_0x57e2c1(0x12e)][_0x10c0b2(0x106)]=_0x23c85d+'%';}drawCombinedImage(capturedPhotos,selectedLayout,liveCombinedCtx,liveCombinedCanvas,_0x1a00e8,!![]);}function getCurrentDecorationsForLivePreview(){const _0x126a0c=_0xbd1d22,_0x1c077f=_0x29230f;let _0x30f3ce=backgroundColorPicker['value'],_0x5599c3=borderColorPicker[_0x1c077f(0x190)];transparentBackgroundColorCheckbox[_0x1c077f(0x1ee)]&&(_0x30f3ce=_0x1c077f(0x1a1));if(syncColorsCheckbox[_0x126a0c(0xf7)])_0x5599c3=_0x30f3ce;else transparentBorderColorCheckbox[_0x1c077f(0x1ee)]&&(_0x5599c3=_0x1c077f(0x1a1));return{'backgroundColor':_0x30f3ce,'borderColor':_0x5599c3,'borderWidth':parseInt(borderWidthSlider['value'],0xa),'innerImageGap':parseInt(imageGapSlider[_0x1c077f(0x190)],0xa),'topCaptionText':topCaptionTextInput[_0x1c077f(0x190)],'bottomCaptionText':bottomCaptionTextInput[_0x126a0c(0x182)],'fontColor':fontColorPicker[_0x1c077f(0x190)],'fontSize':parseInt(fontSizeSlider[_0x1c077f(0x190)],0xa),'fontFamily':fontFamilySelect[_0x126a0c(0x182)],'isBold':isBoldCheckbox[_0x1c077f(0x1ee)],'isItalic':isItalicCheckbox[_0x1c077f(0x1ee)],'topPattern':selectedTopPattern,'bottomPattern':selectedBottomPattern,'overlayPattern':selectedOverlayPattern};}function getCurrentDecorations(){const _0x34ca7e=_0xbd1d22,_0x4bfc5e=_0x29230f;let _0x415f18=backgroundColorPicker[_0x4bfc5e(0x190)],_0xc38816=borderColorPicker[_0x4bfc5e(0x190)];transparentBackgroundColorCheckbox[_0x34ca7e(0xf7)]&&(_0x415f18=_0x4bfc5e(0x1a1));if(syncColorsCheckbox[_0x4bfc5e(0x1ee)])_0xc38816=_0x415f18;else transparentBorderColorCheckbox[_0x4bfc5e(0x1ee)]&&(_0xc38816=_0x4bfc5e(0x1a1));return{'backgroundColor':_0x415f18,'borderColor':_0xc38816,'borderWidth':parseInt(borderWidthSlider[_0x4bfc5e(0x190)],0xa),'innerImageGap':parseInt(imageGapSlider[_0x4bfc5e(0x190)],0xa),'topCaptionText':topCaptionTextInput['value'],'bottomCaptionText':bottomCaptionTextInput[_0x4bfc5e(0x190)],'fontColor':fontColorPicker[_0x34ca7e(0x182)],'fontSize':parseInt(fontSizeSlider[_0x4bfc5e(0x190)],0xa),'fontFamily':fontFamilySelect[_0x34ca7e(0x182)],'isBold':isBoldCheckbox[_0x34ca7e(0xf7)],'isItalic':isItalicCheckbox[_0x4bfc5e(0x1ee)],'topPattern':selectedTopPattern,'bottomPattern':selectedBottomPattern,'overlayPattern':selectedOverlayPattern};}function getCurrentFilters(){const _0x3601f8=_0xbd1d22,_0x48b922=_0x29230f;return{'contrast':contrastSlider[_0x48b922(0x190)],'brightness':brightnessSlider[_0x48b922(0x190)],'grayscale':grayscaleSlider[_0x3601f8(0x182)],'saturation':saturationSlider[_0x48b922(0x190)],'warmth':warmthSlider[_0x48b922(0x190)],'sharpen':sharpenSlider[_0x48b922(0x190)],'shadows':shadowsSlider[_0x48b922(0x190)],'highlights':highlightsSlider['value'],'clarity':claritySlider[_0x48b922(0x190)]};}async function applyFilters(){const _0xd0edfd=_0x29230f;if(capturedPhotos[_0xd0edfd(0x18e)]===0x0)return;await drawCombinedImage(capturedPhotos,selectedLayout,combinedCtx,combinedCanvas,getCurrentDecorations(),![],getCurrentFilters());}async function applyDecorations(){const _0x346d01=_0x29230f;if(capturedPhotos[_0x346d01(0x18e)]===0x0){showMessageBox(_0x346d01(0x146));return;}await drawCombinedImage(capturedPhotos,selectedLayout,combinedCtx,combinedCanvas,getCurrentDecorations(),![],getCurrentFilters());}function _0x1eaa(){const _0x43e614=['join','strokeStyle','width','strokeRect','totalPhotosNeeded','transparentBorderColor','body','pathname','retakeButton','Ảnh\x20đã\x20được\x20lưu!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>In\x20ảnh</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@page\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20size:\x20auto;\x20/*\x20auto\x20is\x20the\x20initial\x20value\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200mm;\x20/*\x20this\x20affects\x20the\x20margin\x20in\x20the\x20printer\x20settings\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x20/*\x20reset\x20body\x20margin\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20100vh;\x20/*\x20Ensure\x20it\x20takes\x20full\x20viewport\x20height\x20for\x20centering\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x20/*\x20Prevent\x20scrollbars\x20from\x20appearing\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2098vh;\x20/*\x20Adjust\x20to\x20ensure\x20it\x20fits\x20page\x20height\x20with\x20some\x20buffer\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x20auto;\x20/*\x20Center\x20image\x20on\x20the\x20page\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20object-fit:\x20contain;\x20/*\x20Ensure\x20image\x20fits\x20without\x20cropping\x20while\x20maintaining\x20aspect\x20ratio\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x20/*\x20Ensure\x20each\x20image\x20prints\x20on\x20a\x20new\x20page\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','Bạn\x20đã\x20chọn\x20bố\x20cục\x20','IMG','appendChild','20px\x20Inter,\x20sans-serif','syncColors','965461YdmgiE','219352PSSzca','innerImageGap','previewStage','</span>/<span\x20id=\x22totalPhotosNeeded\x22>','highlights','30776ubnzGS','overlayPatternSelector','borderColor','Đã\x20đủ\x20ảnh','dataset','data','529111KbTnCr','disabled','div','#666','borderWidth','939162ToCbwh','warn','messageText','includes','fontColor','imageGapValue','change','664odUQCO','https://placehold.co/1200x60/f0f9ff/0f172a?text=Pattern1','center','Lớp\x20phủ\x201','%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20brightness(','img','Anonymous','onerror','font','10px','combinedCanvas','100%','pattern2','.live-canvas-wrapper','clarityValue','contrastValue','src','sharpenValue','Ảnh\x20đã\x20chụp\x20','%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sepia(','180qXVCOm','shadows','backgroundColor','shift','floor','2165796ypnnkA','https://placehold.co/1200x60/f0fdf4/14532d?text=Pattern3','photobooth-cua-ban.png','pattern8','Họa\x20tiết\x201','.blogspot.com','classList','saturationValue','isItalic','hover:bg-indigo-800','open','https://placehold.co/1200x60/add8e6/00008b?text=Pattern5','transparentBackgroundColor','&utm_medium=','fontSizeValue','bg-indigo-700','active','clarity','379766XVepdg','videoFeed','Vui\x20lòng\x20chụp\x20đủ\x20','topCaptionText','input','30px','pattern3','https://placehold.co/120x60/c8a2c8/4b0082?text=Pattern7','Lớp\x20phủ\x203','addEventListener','document','img[data-pattern=\x22\x22]','download','write','crossOrigin','srcObject','innerHTML','value','pattern7','grayscale','filter','1115YhpWbD','textBaseline','tagName','#cccccc','style','9988530ZGrqrA','restore','Họa\x20tiết\x206','Redirecting...','clearRect','length','max','#000000','mediaDevices','highlightsValue','click','thumbnail','Họa\x20tiết\x208','https://placehold.co/120x60/d3d3d3/2f4f4f?text=Pattern8','https://placehold.co/120x60/add8e6/00008b?text=Pattern5','forEach','27eAdFln','pattern6','https://placehold.co/120x60/f0fdf4/14532d?text=Pattern3','contrast','cameraStage','href','<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20w-full\x20mb-1\x22>Họa\x20tiết\x20dưới:</span>','onloadedmetadata','Không\x20có','pattern4','297XJXDJV','topPattern','pattern5','Họa\x20tiết\x207','https://placehold.co/120x60/ffe4e1/8b0000?text=Pattern6','canvas','alt','querySelectorAll','#ffffff','?utm_source=','70038noKbYD','textContent','https://placehold.co/1200x800/add8e6/00008b?text=Overlay3','block','set','getElementById','lineWidth','1krNRzQ','border-2','push','Lỗi\x20tải\x20họa\x20tiết\x20dưới:','Không\x20có\x20ảnh\x20để\x20lưu.\x20Vui\x20lòng\x20kết\x20hợp\x20ảnh\x20trước.','createElement','scale','drawImage','7746575VQrQxH','getContext','Lỗi\x20tải\x20họa\x20tiết\x20lớp\x20phủ:','image/png','\x20ảnh\x20trước\x20khi\x20kết\x20hợp.','https://placehold.co/1200x800/c0c0c0/000000?text=Overlay2','overlay3','min','image/jpeg','https://placehold.co/1200x60/c8a2c8/4b0082?text=Pattern7','h-auto','https://placehold.co/120x60/add8e6/00008b?text=O3','height','fontSize','getUserMedia','combineButton','none','log','Họa\x20tiết\x203','location','Lỗi\x20khi\x20truy\x20cập\x20camera:\x20','Vui\x20lòng\x20chụp\x20ảnh\x20trước\x20khi\x20trang\x20trí!','save','\x22\x20onload=\x22setTimeout(()\x20=>\x20{\x20window.print();\x20window.close();\x20},\x20500);\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bottomCaptionText','sharpen','fillRect','Không\x20có\x20ảnh\x20để\x20in.\x20Vui\x20lòng\x20kết\x20hợp\x20ảnh\x20trước.','pattern1','px\x20','display','liveCombinedCanvas','middle','<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20w-full\x20mb-1\x22>Họa\x20tiết\x20lớp\x20phủ:</span>','\x20ảnh\x20rồi!\x20Vui\x20lòng\x20kết\x20hợp\x20hoặc\x20chụp\x20lại.','utm_source','error','<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20w-full\x20mb-1\x22>Họa\x20tiết\x20trên:</span>','isBold','target','italic\x20','applyDecorationsButton','checked','Chụp\x20ảnh\x20(<span\x20id=\x22currentPhotoCount\x22>','warmth','selected','Họa\x20tiết\x204','querySelector','Trusted\x20domain,\x20stay.','Lỗi\x20tải\x20họa\x20tiết\x20trên:','fontFamily','fillStyle','https://placehold.co/120x60/f0f9ff/0f172a?text=Pattern1','translate','7471116ZTCHDX','border-transparent','currentPhotoCount','paddingBottom','brightnessValue','Inter','add','hidden','countdown','https://placehold.co/120x60/ffffff/000000?text=None','onload','_blank','stop','saveButton','1235240kYBhlS','pattern','https://placehold.co/1200x60/d3d3d3/2f4f4f?text=Pattern8','close','name','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20contrast(','Họa\x20tiết\x202','fillText','overlay2','rounded-md','opacity-100','remove','thumbnailsContainer'];_0x1eaa=function(){return _0x43e614;};return _0x1eaa();}function saveCombinedPhoto(){const _0xbc5f73=_0xbd1d22,_0x3bc8ba=_0x29230f;if(!combinedCanvas[_0x3bc8ba(0x12e)][_0x3bc8ba(0x225)]||combinedCanvas[_0x3bc8ba(0x12e)][_0x3bc8ba(0x225)]===_0x3bc8ba(0x1bd)||combinedCanvas[_0xbc5f73(0x120)]===0x0||combinedCanvas[_0x3bc8ba(0x1b2)]===0x0){showMessageBox(_0x3bc8ba(0x169));return;}const _0x4b7d1e=combinedCanvas[_0x3bc8ba(0x1ba)](_0x3bc8ba(0x1ad)),_0x44f986=document[_0x3bc8ba(0x1c3)]('a');_0x44f986[_0x3bc8ba(0x158)]=_0x4b7d1e,_0x44f986[_0x3bc8ba(0x161)]=_0xbc5f73(0x161),document[_0x3bc8ba(0x1fb)][_0x3bc8ba(0x1e8)](_0x44f986),_0x44f986[_0x3bc8ba(0x19f)](),document[_0xbc5f73(0x124)][_0x3bc8ba(0x210)](_0x44f986),showMessageBox(_0x3bc8ba(0x14a));}function printCombinedPhoto(){const _0x379c2e=_0xbd1d22,_0x16becc=_0x29230f;if(!combinedCanvas[_0x16becc(0x12e)][_0x16becc(0x225)]||combinedCanvas[_0x379c2e(0x18a)][_0x16becc(0x225)]===_0x16becc(0x1bd)||combinedCanvas['width']===0x0||combinedCanvas[_0x16becc(0x1b2)]===0x0){showMessageBox(_0x379c2e(0xe8));return;}const _0x9e5691=combinedCanvas[_0x16becc(0x1ba)](_0x379c2e(0xd0)),_0x8ebcfa=window[_0x379c2e(0x169)]('',_0x16becc(0x13c));_0x8ebcfa[_0x16becc(0x137)][_0x16becc(0x1f0)](_0x16becc(0x1cd)+_0x9e5691+_0x16becc(0x1b8)),_0x8ebcfa[_0x379c2e(0x17b)][_0x379c2e(0x114)]();}function retakePhotos(){const _0x37fb9a=_0xbd1d22,_0x505c4c=_0x29230f;capturedPhotos=[],thumbnailsContainer[_0x505c4c(0x180)]='',updatePhotoCountDisplay(),combinedCanvas[_0x37fb9a(0x18a)][_0x505c4c(0x225)]=_0x505c4c(0x1bd),originalCombinedImage=null,switchStage(cameraStage),startCamera(),backgroundColorPicker[_0x505c4c(0x190)]=_0x505c4c(0x1cf),transparentBackgroundColorCheckbox['checked']=![],borderColorPicker[_0x505c4c(0x190)]=_0x505c4c(0x13f),transparentBorderColorCheckbox[_0x505c4c(0x1ee)]=![],syncColorsCheckbox[_0x505c4c(0x1ee)]=![],borderWidthSlider['value']='10',borderWidthValueSpan[_0x505c4c(0x18c)]='10px',imageGapSlider[_0x505c4c(0x190)]='10',imageGapValueSpan[_0x505c4c(0x18c)]=_0x37fb9a(0x14f),topCaptionTextInput[_0x505c4c(0x190)]='',bottomCaptionTextInput[_0x505c4c(0x190)]='',fontColorPicker[_0x505c4c(0x190)]=_0x505c4c(0x14d),fontSizeSlider[_0x37fb9a(0x182)]='30',fontSizeValueSpan[_0x505c4c(0x18c)]=_0x505c4c(0x1fd),fontFamilySelect[_0x505c4c(0x190)]=_0x37fb9a(0x108),isBoldCheckbox[_0x505c4c(0x1ee)]=![],isItalicCheckbox[_0x505c4c(0x1ee)]=![],contrastSlider[_0x37fb9a(0x182)]=_0x505c4c(0x1c5),contrastValueSpan['textContent']=_0x37fb9a(0x151),brightnessSlider[_0x505c4c(0x190)]=_0x505c4c(0x1c5),brightnessValueSpan[_0x37fb9a(0x1b0)]=_0x505c4c(0x1d1),saturationSlider[_0x505c4c(0x190)]=_0x505c4c(0x1c5),saturationValueSpan[_0x37fb9a(0x1b0)]=_0x505c4c(0x1d1),warmthSlider[_0x37fb9a(0x182)]='0',warmthValueSpan[_0x505c4c(0x18c)]='0%',grayscaleSlider[_0x505c4c(0x190)]='0',grayscaleValueSpan[_0x37fb9a(0x1b0)]='0%',sharpenSlider[_0x505c4c(0x190)]='0',sharpenValueSpan[_0x505c4c(0x18c)]='0%',shadowsSlider[_0x505c4c(0x190)]='0',shadowsValueSpan[_0x505c4c(0x18c)]='0%',highlightsSlider[_0x505c4c(0x190)]='0',highlightsValueSpan[_0x505c4c(0x18c)]='0%',claritySlider[_0x505c4c(0x190)]='0',clarityValueSpan[_0x37fb9a(0x1b0)]='0%',topPatternSelector[_0x37fb9a(0x1ac)](_0x505c4c(0x1b9))[_0x505c4c(0x1ff)](_0x498357=>_0x498357[_0x505c4c(0x201)][_0x505c4c(0x213)](_0x37fb9a(0xfa))),topPatternSelector[_0x37fb9a(0xfc)](_0x505c4c(0x17f))['classList'][_0x505c4c(0x1a8)](_0x505c4c(0x148)),selectedTopPattern='',bottomPatternSelector[_0x505c4c(0x131)](_0x505c4c(0x1b9))[_0x505c4c(0x1ff)](_0x50c422=>_0x50c422[_0x37fb9a(0x165)][_0x37fb9a(0x11c)](_0x505c4c(0x148))),bottomPatternSelector[_0x505c4c(0x195)](_0x37fb9a(0x17c))[_0x505c4c(0x201)][_0x505c4c(0x1a8)](_0x505c4c(0x148)),selectedBottomPattern='',overlayPatternSelector[_0x505c4c(0x131)]('img')[_0x505c4c(0x1ff)](_0x2ae1df=>_0x2ae1df[_0x37fb9a(0x165)][_0x505c4c(0x213)](_0x505c4c(0x148))),overlayPatternSelector[_0x505c4c(0x195)]('img[data-pattern=\x22\x22]')[_0x37fb9a(0x165)]['add'](_0x505c4c(0x148)),selectedOverlayPattern='';}function populatePatternSelectors(){const _0x49d692=_0xbd1d22,_0x58d8c5=_0x29230f;topPatternSelector[_0x58d8c5(0x180)]=_0x49d692(0xf2),bottomPatternSelector[_0x58d8c5(0x180)]=_0x58d8c5(0x19c),overlayPatternSelector[_0x49d692(0x181)]=_0x49d692(0xee),topPatternList[_0x49d692(0x19a)](_0x593813=>{const _0x1b45ff=_0x49d692,_0x2a6917=_0x58d8c5,_0x5e71e6=document[_0x2a6917(0x1c3)](_0x1b45ff(0x14b));_0x5e71e6[_0x2a6917(0x12d)]=_0x593813[_0x1b45ff(0x196)],_0x5e71e6[_0x2a6917(0x1f5)]=_0x593813[_0x2a6917(0x1f1)],_0x5e71e6[_0x2a6917(0x216)][_0x2a6917(0x219)]=_0x593813[_0x2a6917(0x12d)],_0x5e71e6[_0x2a6917(0x201)][_0x2a6917(0x1a8)](_0x2a6917(0x185),'border-2',_0x2a6917(0x218)),topPatternSelector[_0x1b45ff(0x12b)](_0x5e71e6);}),bottomPatternList[_0x58d8c5(0x1ff)](_0x5c0887=>{const _0x53fc1e=_0x49d692,_0x562f42=_0x58d8c5,_0x4226ae=document[_0x562f42(0x1c3)]('img');_0x4226ae[_0x53fc1e(0x156)]=_0x5c0887[_0x562f42(0x21e)],_0x4226ae[_0x53fc1e(0x1ab)]=_0x5c0887[_0x562f42(0x1f1)],_0x4226ae[_0x53fc1e(0x138)]['pattern']=_0x5c0887[_0x53fc1e(0x156)],_0x4226ae[_0x562f42(0x201)][_0x562f42(0x1a8)](_0x562f42(0x185),_0x562f42(0x1c4),_0x562f42(0x218)),bottomPatternSelector[_0x562f42(0x1e8)](_0x4226ae);}),overlayPatternList[_0x58d8c5(0x1ff)](_0xed93f6=>{const _0x337266=_0x49d692,_0x5be6a0=_0x58d8c5,_0x470f7d=document[_0x337266(0xca)](_0x5be6a0(0x1b9));_0x470f7d[_0x5be6a0(0x12d)]=_0xed93f6[_0x337266(0x196)],_0x470f7d['alt']=_0xed93f6[_0x337266(0x115)],_0x470f7d[_0x5be6a0(0x216)][_0x5be6a0(0x219)]=_0xed93f6[_0x5be6a0(0x12d)],_0x470f7d[_0x5be6a0(0x201)][_0x5be6a0(0x1a8)](_0x337266(0x11a),_0x5be6a0(0x1c4),_0x337266(0x104)),overlayPatternSelector[_0x5be6a0(0x1e8)](_0x470f7d);}),topPatternSelector[_0x58d8c5(0x195)](_0x49d692(0x17c))[_0x58d8c5(0x201)]['add'](_0x58d8c5(0x148)),bottomPatternSelector[_0x49d692(0xfc)](_0x58d8c5(0x17f))[_0x58d8c5(0x201)][_0x49d692(0x109)](_0x49d692(0xfa)),overlayPatternSelector[_0x58d8c5(0x195)](_0x49d692(0x17c))[_0x58d8c5(0x201)][_0x58d8c5(0x1a8)](_0x58d8c5(0x148)),selectedTopPattern='',selectedBottomPattern='',selectedOverlayPattern='';}function _0x3b35(){const _0x4e59cf=_0xbd1d22,_0x26b78d=[_0x4e59cf(0xf9),_0x4e59cf(0x13e),_0x4e59cf(0x168),_0x4e59cf(0x141),_0x4e59cf(0xd5),_0x4e59cf(0xeb),_0x4e59cf(0x136),_0x4e59cf(0x156),'style','https://','width','querySelectorAll','Ảnh\x20','captureButton','topPatternSelector',_0x4e59cf(0x188),_0x4e59cf(0x1b1),_0x4e59cf(0x17b),_0x4e59cf(0xf5),_0x4e59cf(0xd7),_0x4e59cf(0x1a2),'.control-button[data-layout]',_0x4e59cf(0x10e),_0x4e59cf(0x11b),_0x4e59cf(0xf3),_0x4e59cf(0x189),_0x4e59cf(0x19d),_0x4e59cf(0x131),_0x4e59cf(0xec),'loadingSpinner',_0x4e59cf(0x142),'overlay1',_0x4e59cf(0xe2),'backgroundColor',_0x4e59cf(0xfa),_0x4e59cf(0x113),_0x4e59cf(0x127),_0x4e59cf(0x184),'opacity-0',_0x4e59cf(0x192),_0x4e59cf(0x198),'change',_0x4e59cf(0x143),'textAlign','https://placehold.co/120x60/c0c0c0/000000?text=O2',_0x4e59cf(0xcd),'fillStyle',_0x4e59cf(0xfe),_0x4e59cf(0x121),_0x4e59cf(0x14e),_0x4e59cf(0x1a0),_0x4e59cf(0x14c),'warmthValue','hostname',_0x4e59cf(0x178),_0x4e59cf(0x13b),_0x4e59cf(0x13a),_0x4e59cf(0x170),'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20saturate(',_0x4e59cf(0x17d),_0x4e59cf(0x1b4),_0x4e59cf(0x1a5),'saturation',_0x4e59cf(0x108),'topCaptionText',_0x4e59cf(0x12c),_0x4e59cf(0x107),_0x4e59cf(0x1ba),_0x4e59cf(0x139),_0x4e59cf(0x193),_0x4e59cf(0x148),_0x4e59cf(0x13d),_0x4e59cf(0xe7),'middle',_0x4e59cf(0x10d),_0x4e59cf(0x19c),_0x4e59cf(0x1b2),_0x4e59cf(0x134),'https://placehold.co/1200x60/fff7ed/9a3412?text=Pattern4',_0x4e59cf(0xe1),_0x4e59cf(0xe0),'Họa\x20tiết\x205','https://placehold.co/1200x60/eef2ff/1e293b?text=Pattern2',_0x4e59cf(0x1b5),_0x4e59cf(0x18d),'target',_0x4e59cf(0x10c),_0x4e59cf(0x125),_0x4e59cf(0x17f),_0x4e59cf(0x17c),_0x4e59cf(0x181),_0x4e59cf(0xe3),_0x4e59cf(0x140),_0x4e59cf(0xe9),_0x4e59cf(0xcb),_0x4e59cf(0x11a),_0x4e59cf(0xce),_0x4e59cf(0x16e),'onerror','142214ZrHzwp','grayscaleValue',_0x4e59cf(0xfb),_0x4e59cf(0x1b0),_0x4e59cf(0x16c),_0x4e59cf(0x190),_0x4e59cf(0x12e),_0x4e59cf(0x182),_0x4e59cf(0x19f),_0x4e59cf(0x194),_0x4e59cf(0x1a9),'bottomPattern',_0x4e59cf(0xfc),_0x4e59cf(0x187),'join','readyState','bottomPatternSelector',_0x4e59cf(0x1a8),_0x4e59cf(0x132),_0x4e59cf(0x1a1),_0x4e59cf(0x1b8),_0x4e59cf(0x18f),_0x4e59cf(0x195),'input','rgba(0,0,0,0)',_0x4e59cf(0xf0),_0x4e59cf(0x16f),_0x4e59cf(0xd4),_0x4e59cf(0xfd),'messageBoxClose',_0x4e59cf(0x117),_0x4e59cf(0x109),'object-cover',_0x4e59cf(0x10a),'isItalic',_0x4e59cf(0xd1),_0x4e59cf(0xd0),_0x4e59cf(0xd8),_0x4e59cf(0x149),_0x4e59cf(0x15b),_0x4e59cf(0x13c),_0x4e59cf(0xd9),_0x4e59cf(0x11d),_0x4e59cf(0xda),_0x4e59cf(0x12d),_0x4e59cf(0x17a),_0x4e59cf(0x16a),_0x4e59cf(0xe4),'img','toDataURL',_0x4e59cf(0xd3),_0x4e59cf(0x191),_0x4e59cf(0xdd),_0x4e59cf(0xe6),_0x4e59cf(0x177),'bottomCaptionText','shadowsValue',_0x4e59cf(0x152),'createElement',_0x4e59cf(0x1b7),'100','printButton',_0x4e59cf(0x153),_0x4e59cf(0x158),'layout',_0x4e59cf(0x16b),_0x4e59cf(0x1a3),_0x4e59cf(0x19b),_0x4e59cf(0x128),_0x4e59cf(0xea),_0x4e59cf(0x1ad),'overlayPattern',_0x4e59cf(0x151),'brightness',_0x4e59cf(0xcc),'</span>)','https://placehold.co/1200x60/ffe4e1/8b0000?text=Pattern6',_0x4e59cf(0x126),_0x4e59cf(0x172),_0x4e59cf(0x179),_0x4e59cf(0xf1),_0x4e59cf(0x102),_0x4e59cf(0x1b9),_0x4e59cf(0x10f),_0x4e59cf(0x18b),_0x4e59cf(0x163),_0x4e59cf(0x160),'https://placehold.co/120x60/eef2ff/1e293b?text=Pattern2',_0x4e59cf(0x14a),_0x4e59cf(0x1ae),_0x4e59cf(0x185),'highlights',_0x4e59cf(0x1aa),_0x4e59cf(0xf8),_0x4e59cf(0x162),_0x4e59cf(0x12b),_0x4e59cf(0x10b),_0x4e59cf(0x16d),_0x4e59cf(0x180),_0x4e59cf(0xdf),_0x4e59cf(0x12a),_0x4e59cf(0xf7),_0x4e59cf(0x15e),_0x4e59cf(0x17e),_0x4e59cf(0x115),_0x4e59cf(0x101),_0x4e59cf(0x118),_0x4e59cf(0x150),_0x4e59cf(0x1ab),_0x4e59cf(0x137),_0x4e59cf(0x119),_0x4e59cf(0x197),'putImageData',_0x4e59cf(0x12f),'body','https://placehold.co/120x60/fff7ed/9a3412?text=Pattern4',_0x4e59cf(0x176),_0x4e59cf(0x147),_0x4e59cf(0x19a),_0x4e59cf(0xd6),_0x4e59cf(0x165),_0x4e59cf(0xdc),_0x4e59cf(0xff),_0x4e59cf(0x1b3),'messageBox',_0x4e59cf(0x173),_0x4e59cf(0x1a6),'getImageData',_0x4e59cf(0x159),_0x4e59cf(0x110),_0x4e59cf(0xde),_0x4e59cf(0x130),'%)\x20/*\x20Approximate\x20warmth\x20with\x20sepia\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','4BEHzKD','bold\x20','removeChild',_0x4e59cf(0xef),_0x4e59cf(0x15a),_0x4e59cf(0x11c),'imageGap',_0x4e59cf(0xf6),_0x4e59cf(0x138),'\x20ảnh.\x20Bắt\x20đầu\x20chụp!','border-transparent',_0x4e59cf(0x112),_0x4e59cf(0x18c),'contrast','aspectRatio',_0x4e59cf(0x135),_0x4e59cf(0x196),_0x4e59cf(0x129)];return _0x3b35=function(){return _0x26b78d;},_0x3b35();}window[_0x29230f(0x170)]=()=>{populatePatternSelectors(),startCamera();},captureButton[_0x29230f(0x1b6)](_0x29230f(0x19f),capturePhoto),combineButton[_0x29230f(0x1b6)](_0xbd1d22(0x195),async()=>{const _0xda38f1=_0x29230f;capturedPhotos[_0xda38f1(0x18e)]===selectedLayout?(switchStage(previewStage),await applyDecorations(),stopCamera()):showMessageBox(_0xda38f1(0x206)+selectedLayout+_0xda38f1(0x1ac));}),retakeButton[_0x29230f(0x1b6)](_0x29230f(0x19f),retakePhotos),saveButton[_0x29230f(0x1b6)]('click',saveCombinedPhoto),printButton[_0x29230f(0x1b6)](_0xbd1d22(0x195),printCombinedPhoto),layoutButtons[_0x29230f(0x1ff)](_0xdf582=>{const _0x1761a0=_0xbd1d22,_0x4e04d3=_0x29230f;_0xdf582[_0x1761a0(0x17a)](_0x4e04d3(0x19f),()=>{const _0x25fb7a=_0x1761a0,_0x1151ec=_0x4e04d3,_0x5c7f3b=parseInt(_0xdf582[_0x1151ec(0x216)][_0x1151ec(0x1c9)],0xa);_0x5c7f3b!==selectedLayout&&(selectedLayout=_0x5c7f3b,capturedPhotos=[],thumbnailsContainer[_0x1151ec(0x180)]='',updatePhotoCountDisplay(),updateLivePreview(),showMessageBox(_0x1151ec(0x21f)+selectedLayout+_0x1151ec(0x217))),layoutButtons['forEach'](_0x3df50f=>_0x3df50f[_0x1151ec(0x201)]['remove'](_0x25fb7a(0x16e),_0x25fb7a(0x168))),_0xdf582[_0x1151ec(0x201)][_0x1151ec(0x1a8)](_0x1151ec(0x187),_0x1151ec(0x222));});}),updatePhotoCountDisplay(),layoutButtons[0x1][_0x29230f(0x201)][_0x29230f(0x1a8)](_0x29230f(0x187),_0x29230f(0x222)),borderWidthSlider[_0x29230f(0x1b6)](_0x29230f(0x1a0),()=>{const _0x4d08c=_0x29230f;borderWidthValueSpan[_0x4d08c(0x18c)]=borderWidthSlider[_0x4d08c(0x190)]+'px',updateLivePreview();}),imageGapSlider[_0x29230f(0x1b6)](_0x29230f(0x1a0),()=>{const _0x318d56=_0x29230f;imageGapValueSpan[_0x318d56(0x18c)]=imageGapSlider[_0x318d56(0x190)]+'px',updateLivePreview();}),fontSizeSlider[_0x29230f(0x1b6)](_0x29230f(0x1a0),()=>{const _0x2eca73=_0x29230f;fontSizeValueSpan[_0x2eca73(0x18c)]=fontSizeSlider[_0x2eca73(0x190)]+'px',updateLivePreview();}),contrastSlider[_0x29230f(0x1b6)](_0x29230f(0x1a0),()=>{const _0x2fbdf3=_0x29230f;contrastValueSpan[_0x2fbdf3(0x18c)]=contrastSlider[_0x2fbdf3(0x190)]+'%',applyFilters();}),brightnessSlider['addEventListener'](_0x29230f(0x1a0),()=>{const _0x4eb0b0=_0x29230f;brightnessValueSpan[_0x4eb0b0(0x18c)]=brightnessSlider['value']+'%',applyFilters();}),saturationSlider[_0x29230f(0x1b6)](_0xbd1d22(0x175),()=>{const _0x1ae35f=_0xbd1d22,_0x948961=_0x29230f;saturationValueSpan[_0x948961(0x18c)]=saturationSlider[_0x1ae35f(0x182)]+'%',applyFilters();}),warmthSlider[_0xbd1d22(0x17a)](_0x29230f(0x1a0),()=>{const _0x2e0a11=_0x29230f;warmthValueSpan[_0x2e0a11(0x18c)]=warmthSlider[_0x2e0a11(0x190)]+'%',applyFilters();}),grayscaleSlider[_0x29230f(0x1b6)](_0x29230f(0x1a0),()=>{const _0x4fe31b=_0xbd1d22;grayscaleValueSpan['textContent']=grayscaleSlider[_0x4fe31b(0x182)]+'%',applyFilters();}),sharpenSlider[_0x29230f(0x1b6)](_0x29230f(0x1a0),()=>{const _0x45b3a5=_0x29230f;sharpenValueSpan['textContent']=sharpenSlider[_0x45b3a5(0x190)]+'%',applyFilters();}),shadowsSlider[_0x29230f(0x1b6)](_0x29230f(0x1a0),()=>{const _0x4d53fa=_0x29230f;shadowsValueSpan[_0x4d53fa(0x18c)]=shadowsSlider[_0x4d53fa(0x190)]+'%',applyFilters();}),highlightsSlider[_0x29230f(0x1b6)](_0x29230f(0x1a0),()=>{const _0xc32e12=_0x29230f;highlightsValueSpan[_0xc32e12(0x18c)]=highlightsSlider[_0xc32e12(0x190)]+'%',applyFilters();}),claritySlider[_0x29230f(0x1b6)](_0xbd1d22(0x175),()=>{const _0x354e8b=_0x29230f;clarityValueSpan[_0x354e8b(0x18c)]=claritySlider[_0x354e8b(0x190)]+'%',applyFilters();}),topCaptionTextInput[_0x29230f(0x1b6)](_0x29230f(0x1a0),updateLivePreview),bottomCaptionTextInput[_0xbd1d22(0x17a)](_0x29230f(0x1a0),updateLivePreview),fontFamilySelect[_0x29230f(0x1b6)](_0x29230f(0x14f),updateLivePreview),isBoldCheckbox[_0x29230f(0x1b6)]('change',updateLivePreview),isItalicCheckbox[_0x29230f(0x1b6)](_0x29230f(0x14f),updateLivePreview),backgroundColorPicker[_0x29230f(0x1b6)](_0x29230f(0x1a0),()=>{const _0x231105=_0x29230f;syncColorsCheckbox[_0x231105(0x1ee)]&&(borderColorPicker[_0x231105(0x190)]=backgroundColorPicker[_0x231105(0x190)]),updateLivePreview();}),borderColorPicker[_0x29230f(0x1b6)](_0x29230f(0x1a0),()=>{transparentBorderColorCheckbox['checked']=![],updateLivePreview();}),transparentBackgroundColorCheckbox[_0x29230f(0x1b6)](_0x29230f(0x14f),()=>{const _0x2fac31=_0xbd1d22;transparentBackgroundColorCheckbox[_0x2fac31(0xf7)]&&(syncColorsCheckbox['checked']=![]),updateLivePreview();}),transparentBorderColorCheckbox['addEventListener'](_0x29230f(0x14f),()=>{const _0x4b89ec=_0x29230f;transparentBorderColorCheckbox[_0x4b89ec(0x1ee)]&&(syncColorsCheckbox[_0x4b89ec(0x1ee)]=![]),updateLivePreview();}),syncColorsCheckbox[_0x29230f(0x1b6)](_0xbd1d22(0x145),()=>{const _0x319aa1=_0x29230f;syncColorsCheckbox[_0x319aa1(0x1ee)]&&(borderColorPicker[_0x319aa1(0x190)]=backgroundColorPicker[_0x319aa1(0x190)],transparentBorderColorCheckbox[_0x319aa1(0x1ee)]=transparentBackgroundColorCheckbox[_0x319aa1(0x1ee)]),updateLivePreview();}),topPatternSelector[_0x29230f(0x1b6)](_0x29230f(0x19f),_0x1fed5b=>{const _0x28f5b5=_0xbd1d22,_0x336f15=_0x29230f;_0x1fed5b[_0x336f15(0x17b)][_0x336f15(0x135)]===_0x28f5b5(0x12a)&&(topPatternSelector[_0x336f15(0x131)](_0x336f15(0x1b9))[_0x336f15(0x1ff)](_0x55f122=>_0x55f122[_0x336f15(0x201)][_0x28f5b5(0x11c)](_0x336f15(0x148))),_0x1fed5b[_0x28f5b5(0xf4)][_0x336f15(0x201)][_0x336f15(0x1a8)](_0x336f15(0x148)),selectedTopPattern=_0x1fed5b[_0x336f15(0x17b)][_0x336f15(0x216)][_0x336f15(0x219)],updateLivePreview());}),bottomPatternSelector[_0xbd1d22(0x17a)](_0xbd1d22(0x195),_0x26282c=>{const _0x1cf98c=_0xbd1d22,_0x392185=_0x29230f;_0x26282c[_0x392185(0x17b)]['tagName']===_0x392185(0x1ed)&&(bottomPatternSelector[_0x1cf98c(0x1ac)](_0x1cf98c(0x14b))['forEach'](_0x482807=>_0x482807[_0x392185(0x201)][_0x392185(0x213)](_0x1cf98c(0xfa))),_0x26282c[_0x392185(0x17b)][_0x392185(0x201)][_0x1cf98c(0x109)](_0x392185(0x148)),selectedBottomPattern=_0x26282c[_0x392185(0x17b)][_0x392185(0x216)][_0x392185(0x219)],updateLivePreview());}),overlayPatternSelector[_0x29230f(0x1b6)](_0x29230f(0x19f),_0x3412ca=>{const _0x2f353b=_0xbd1d22,_0x3f4658=_0x29230f;_0x3412ca[_0x3f4658(0x17b)][_0x3f4658(0x135)]===_0x3f4658(0x1ed)&&(overlayPatternSelector['querySelectorAll'](_0x3f4658(0x1b9))[_0x3f4658(0x1ff)](_0x7d35d1=>_0x7d35d1[_0x3f4658(0x201)][_0x2f353b(0x11c)](_0x3f4658(0x148))),_0x3412ca[_0x2f353b(0xf4)][_0x2f353b(0x165)]['add'](_0x3f4658(0x148)),selectedOverlayPattern=_0x3412ca[_0x3f4658(0x17b)][_0x2f353b(0x138)][_0x3f4658(0x219)],updateLivePreview());}),applyDecorationsButton['addEventListener'](_0xbd1d22(0x195),applyDecorations),messageBoxClose[_0x29230f(0x1b6)](_0xbd1d22(0x195),hideMessageBox);
